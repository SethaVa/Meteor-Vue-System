"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var echarts=_interopDefault(require("echarts/lib/echarts"));require("echarts/lib/component/tooltip"),require("echarts/lib/component/legend"),require("echarts/lib/chart/bar"),echarts.registerTheme("ve-chart",{categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1}},line:{smooth:!0},grid:{containLabel:!0,left:10,right:10}});var itemPoint=function(t){return['<span style="',"background-color:"+t+";","display: inline-block;","width: 10px;","height: 10px;","border-radius: 50%;","margin-right:2px;",'"></span>'].join("")},color=["#19d4ae","#5ab1ef","#fa6e86","#ffb980","#0067a6","#c4b4e4","#d87a80","#9cbbff","#d9d0c7","#87a997","#d49ea2","#5b4947","#7ba3a8"],numberFormat=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(+t))return t;for(var a=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],r=0;r<a.length;r++)if(Math.abs(t)>=a[r].value)return(t/a[r].value).toFixed(e)+a[r].symbol;return t.toString()},formatTausends=function(t){return String(t).replace(/^(\s+|-)?\d+(?=.?\d*($|\s))/g,function(t){return t.replace(/(?=(?!\b)(\d{3})+$)/g,",")})},getFormated=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";if(null==t||isNaN(t))return r;switch(e){case"KMB":return numberFormat(t);case"percent":return parseFloat((100*t).toFixed(a))+"%";case"normal":return formatTausends(t);default:return t}},getStackMap=function(t){var e={};return Object.keys(t).forEach(function(a){t[a].forEach(function(t){e[t]=a})}),e},clone=function(t){return JSON.parse(JSON.stringify(t))},getType=function(t){return Object.prototype.toString.call(t)},toKebab=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},isArray=function(t){return"[object Array]"===getType(t)},isObject=function(t){return"[object Object]"===getType(t)},freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty,nativeObjectToString=objectProto$2.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(t){var e=hasOwnProperty$2.call(t,symToStringTag$1),a=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var r=!0}catch(t){}var i=nativeObjectToString.call(t);return r&&(e?t[symToStringTag$1]=a:delete t[symToStringTag$1]),i}var objectProto$3=Object.prototype,nativeObjectToString$1=objectProto$3.toString;function objectToString(t){return nativeObjectToString$1.call(t)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(t){return null==t?void 0===t?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(t)?getRawTag(t):objectToString(t)}function isObject$1(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(t){if(!isObject$1(t))return!1;var e=baseGetTag(t);return e==funcTag||e==genTag||e==asyncTag||e==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(t){if(null!=t){try{return funcToString$1.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$1=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$1=objectProto$1.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$1).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(t){return!(!isObject$1(t)||isMasked(t))&&(isFunction(t)?reIsNative:reIsHostCtor).test(toSource(t))}function getValue(t,e){return null==t?void 0:t[e]}function getNative(t,e){var a=getValue(t,e);return baseIsNative(a)?a:void 0}var defineProperty=function(){try{var t=getNative(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function baseAssignValue(t,e,a){"__proto__"==e&&defineProperty?defineProperty(t,e,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[e]=a}function eq(t,e){return t===e||t!=t&&e!=e}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function assignValue(t,e,a){var r=t[e];hasOwnProperty.call(t,e)&&eq(r,a)&&(void 0!==a||e in t)||baseAssignValue(t,e,a)}var isArray$1=Array.isArray;function isObjectLike(t){return null!=t&&"object"==typeof t}var symbolTag="[object Symbol]";function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&baseGetTag(t)==symbolTag}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(t,e){if(isArray$1(t))return!1;var a=typeof t;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=t&&!isSymbol(t))||(reIsPlainProp.test(t)||!reIsDeepProp.test(t)||null!=e&&t in Object(e))}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashGet(t){var e=this.__data__;if(nativeCreate){var a=e[t];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty$3.call(e,t)?e[t]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashHas(t){var e=this.__data__;return nativeCreate?void 0!==e[t]:hasOwnProperty$4.call(e,t)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(t,e){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=nativeCreate&&void 0===e?HASH_UNDEFINED$1:e,this}function Hash(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(t,e){for(var a=t.length;a--;)if(eq(t[a][0],e))return a;return-1}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(t){var e=this.__data__,a=assocIndexOf(e,t);return!(a<0)&&(a==e.length-1?e.pop():splice.call(e,a,1),--this.size,!0)}function listCacheGet(t){var e=this.__data__,a=assocIndexOf(e,t);return a<0?void 0:e[a][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet(t,e){var a=this.__data__,r=assocIndexOf(a,t);return r<0?(++this.size,a.push([t,e])):a[r][1]=e,this}function ListCache(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function getMapData(t,e){var a=t.__data__;return isKeyable(e)?a["string"==typeof e?"string":"hash"]:a.map}function mapCacheDelete(t){var e=getMapData(this,t).delete(t);return this.size-=e?1:0,e}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){var a=getMapData(this,t),r=a.size;return a.set(t,e),this.size+=a.size==r?0:1,this}function MapCache(t){var e=-1,a=null==t?0:t.length;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);var a=function(){var r=arguments,i=e?e.apply(this,r):r[0],n=a.cache;if(n.has(i))return n.get(i);var o=t.apply(this,r);return a.cache=n.set(i,o)||n,o};return a.cache=new(memoize.Cache||MapCache),a}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(t){var e=memoize(t,function(t){return a.size===MAX_MEMOIZE_SIZE&&a.clear(),t}),a=e.cache;return e}var reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(t){var e=[];return reLeadingDot.test(t)&&e.push(""),t.replace(rePropName,function(t,a,r,i){e.push(r?i.replace(reEscapeChar,"$1"):a||t)}),e});function arrayMap(t,e){for(var a=-1,r=null==t?0:t.length,i=Array(r);++a<r;)i[a]=e(t[a],a,t);return i}var INFINITY=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(t){if("string"==typeof t)return t;if(isArray$1(t))return arrayMap(t,baseToString)+"";if(isSymbol(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return"0"==e&&1/t==-INFINITY?"-0":e}function toString(t){return null==t?"":baseToString(t)}function castPath(t,e){return isArray$1(t)?t:isKey(t,e)?[t]:stringToPath(toString(t))}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(t,e){return!!(e=null==e?MAX_SAFE_INTEGER:e)&&("number"==typeof t||reIsUint.test(t))&&t>-1&&t%1==0&&t<e}var INFINITY$1=1/0;function toKey(t){if("string"==typeof t||isSymbol(t))return t;var e=t+"";return"0"==e&&1/t==-INFINITY$1?"-0":e}function baseSet(t,e,a,r){if(!isObject$1(t))return t;for(var i=-1,n=(e=castPath(e,t)).length,o=n-1,s=t;null!=s&&++i<n;){var c=toKey(e[i]),l=a;if(i!=o){var h=s[c];void 0===(l=r?r(h,c,s):void 0)&&(l=isObject$1(h)?h:isIndex(e[i+1])?[]:{})}assignValue(s,c,l),s=s[c]}return t}function set(t,e,a){return null==t?t:baseSet(t,e,a)}function baseGet(t,e){for(var a=0,r=(e=castPath(e,t)).length;null!=t&&a<r;)t=t[toKey(e[a++])];return a&&a==r?t:void 0}function get(t,e,a){var r=null==t?void 0:baseGet(t,e);return void 0===r?a:r}var defineProperty$2=function(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t},_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},VALUE_AXIS_OPACITY=.5;function getBarDimAxis(t){var e=t.innerRows,a=t.dimAxisName,r=t.dimension,i=t.axisVisible,n=t.dimAxisType,o=t.dims;return r.map(function(t){return{type:"category",name:a,nameLocation:"middle",nameGap:22,data:"value"===n?getValueAxisData(o):e.map(function(e){return e[t]}),axisLabel:{formatter:function(t){return String(t)}},show:i}})}function getValueAxisData(t){for(var e=Math.max.apply(null,t),a=[],r=Math.min.apply(null,t);r<=e;r++)a.push(r);return a}function getBarMeaAxis(t){for(var e=t.meaAxisName,a=t.meaAxisType,r=t.axisVisible,i=t.digit,n=t.scale,o=t.min,s=t.max,c={type:"value",axisTick:{show:!1},show:r},l=[],h=function(t){a[t]?l[t]=_extends({},c,{axisLabel:{formatter:function(e){return getFormated(e,a[t],i)}}}):l[t]=_extends({},c),l[t].name=e[t]||"",l[t].scale=n[t]||!1,l[t].min=o[t]||null,l[t].max=s[t]||null},u=0;u<2;u++)h(u);return l}function getBarTooltip(t){var e=t.axisSite,a=t.isHistogram,r=t.meaAxisType,i=t.digit,n=t.labelMap,o=a?e.right||[]:e.top||[];return n&&(o=o.map(function(t){return void 0===n[t]?t:n[t]})),{trigger:"axis",formatter:function(t){var e=[];return e.push(t[0].name+"<br>"),t.forEach(function(t){var a=t.seriesName,n=~o.indexOf(a)?r[1]:r[0];e.push(itemPoint(t.color)),e.push(a+": "),e.push(getFormated(t.value,n,i)),e.push("<br>")}),e.join("")}}}function getValueData(t,e){for(var a=Math.max.apply(null,e),r=[],i=Math.min.apply(null,e);i<=a;i++){var n=e.indexOf(i);~n?r.push(t[n]):r.push(null)}return r}function getBarSeries(t){var e,a=t.innerRows,r=t.metrics,i=t.stack,n=t.axisSite,o=t.isHistogram,s=t.labelMap,c=t.itemStyle,l=t.label,h=t.showLine,u=void 0===h?[]:h,p=t.dimAxisType,d=t.barGap,f=t.opacity,y=t.dims,g={},b=o?n.right||[]:n.top||[],m=o?"yAxisIndex":"xAxisIndex",v=i&&getStackMap(i);return r.forEach(function(t){g[t]=[]}),a.forEach(function(t){r.forEach(function(e){g[e].push(t[e])})}),!!(e=Object.keys(g).map(function(t,e){var a="value"===p?getValueData(g[t],y):g[t],r=defineProperty$2({name:null!=s[t]?s[t]:t,type:~u.indexOf(t)?"line":"bar",data:a},m,~b.indexOf(t)?"1":"0");i&&v[t]&&(r.stack=v[t]),l&&(r.label=l),c&&(r.itemStyle=c);var n=f||get(r,"itemStyle.normal.opacity");return"value"===p&&(r.barGap=d,r.barCategoryGap="1%",null==n&&(n=VALUE_AXIS_OPACITY)),null!=n&&set(r,"itemStyle.normal.opacity",n),r})).length&&e}function getLegend(t){var e=t.metrics,a=t.labelMap,r=t.legendName;return r||a?{data:a?e.map(function(t){return null==a[t]?t:a[t]}):e,formatter:function(t){return null!=r[t]?r[t]:t}}:{data:e}}function getDims(t,e){return t.map(function(t){return t[e[0]]})}var bar=function(t,e,a,r){var i=clone(e),n=a.axisSite,o=void 0===n?{}:n,s=a.dimension,c=void 0===s?[t[0]]:s,l=a.stack,h=void 0===l?{}:l,u=a.axisVisible,p=void 0===u||u,d=a.digit,f=void 0===d?2:d,y=a.dataOrder,g=void 0!==y&&y,b=a.scale,m=void 0===b?[!1,!1]:b,v=a.min,O=void 0===v?[null,null]:v,x=a.max,_=void 0===x?[null,null]:x,S=a.legendName,j=void 0===S?{}:S,T=a.labelMap,C=void 0===T?{}:T,A=a.label,$=a.itemStyle,P=a.showLine,E=a.barGap,w=void 0===E?"-100%":E,N=a.opacity,M=r.tooltipVisible,I=r.legendVisible,k=t.slice();o.top&&o.bottom?k=o.top.concat(o.bottom):o.bottom&&!o.right?k=o.bottom:a.metrics?k=a.metrics:k.splice(t.indexOf(c[0]),1);var D=a.xAxisType||["normal","normal"],H=a.yAxisType||"category",F=a.xAxisName||[],L=a.yAxisName||"";if(g){var z=g.label,V=g.order;z&&V?i.sort(function(t,e){return"desc"===V?t[z]-e[z]:e[z]-t[z]}):console.warn("Need to provide name and order parameters")}var G=getDims(i,c),R=I&&getLegend({metrics:k,labelMap:C,legendName:j}),B=getBarDimAxis({innerRows:i,dimAxisName:L,dimension:c,axisVisible:p,dimAxisType:H,dims:G}),K=getBarMeaAxis({meaAxisName:F,meaAxisType:D,axisVisible:p,digit:f,scale:m,min:O,max:_});return{legend:R,yAxis:B,series:getBarSeries({innerRows:i,metrics:k,stack:h,axisSite:o,isHistogram:!1,labelMap:C,itemStyle:$,label:A,showLine:P,dimAxisType:H,dimension:c,barGap:w,opacity:N,dims:G}),xAxis:K,tooltip:M&&getBarTooltip({axisSite:o,isHistogram:!1,meaAxisType:D,digit:f,labelMap:C})}},Loading={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"v-charts-component-loading"},[e("div",{staticClass:"loader"},[e("div",{staticClass:"loading-spinner"},[e("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])])])])},staticRenderFns:[]},DataEmpty={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"v-charts-data-empty"},[this._v(" 暂无数据 ")])},staticRenderFns:[]},Core={render:function(t){return t("div",{class:[toKebab(this.$options.name||this.$options._componentTag)],style:this.canvasStyle},[t("div",{style:this.canvasStyle,ref:"canvas"}),t(Loading,{style:{display:this.loading?"":"none"}}),t(DataEmpty,{style:{display:this.dataEmpty?"":"none"}}),this.$slots.default])},props:{data:{type:[Object,Array],default:function(){return{}}},settings:{type:Object,default:function(){return{}}},width:{type:String,default:"auto"},height:{type:String,default:"400px"},beforeConfig:{type:Function},afterConfig:{type:Function},afterSetOption:{type:Function},afterSetOptionOnce:{type:Function},events:{type:Object},grid:{type:[Object,Array]},colors:{type:Array},tooltipVisible:{type:Boolean,default:!0},legendVisible:{type:Boolean,default:!0},legendPosition:{type:String},markLine:{type:Object},markArea:{type:Object},markPoint:{type:Object},visualMap:{type:[Object,Array]},dataZoom:{type:[Object,Array]},toolbox:{type:[Object,Array]},initOptions:{type:Object,default:function(){return{}}},title:Object,legend:[Object,Array],xAxis:[Object,Array],yAxis:[Object,Array],radar:Object,tooltip:Object,axisPointer:Object,brush:[Object,Array],geo:Object,timeline:[Object,Array],graphic:[Object,Array],series:[Object,Array],backgroundColor:[Object,String],textStyle:Object,animation:Object,theme:Object,themeName:String,loading:Boolean,dataEmpty:Boolean,extend:Object,judgeWidth:{type:Boolean,default:!0},widthChangeDelay:{type:Number,default:300},tooltipFormatter:{type:Function}},watch:{data:{deep:!0,handler:function(t){t&&this.dataHandler(t)}},settings:{deep:!0,handler:function(t){t.type&&this.chartLib&&(this.chartHandler=this.chartLib[t.type]),this.dataHandler(this.data)}},events:{deep:!0,handler:function(){this.createEventProxy()}},theme:{deep:!0,handler:function(t){this.themeChange(t)}},themeName:function(t){this.themeChange(t)}},computed:{canvasStyle:function(){return{width:this.width,height:this.height,position:"relative"}},chartColor:function(){return this.colors||this.theme&&this.theme.color||color}},methods:{dataHandler:function(t){if(this.chartHandler){var e=t,a=e.columns,r=void 0===a?[]:a,i=e.rows,n=void 0===i?[]:i,o={tooltipVisible:this.tooltipVisible,legendVisible:this.legendVisible,echarts:this.echarts,color:this.chartColor,tooltipFormatter:this.tooltipFormatter};this.beforeConfig&&(t=this.beforeConfig(t));var s=this.chartHandler(r,n,this.settings,o);s&&("function"==typeof s.then?s.then(this.optionsHandler):this.optionsHandler(s))}},resize:function(){this.echarts.resize()},optionsHandler:function(t){var e=this;this.legendPosition&&t.legend&&(t.legend[this.legendPosition]=10,~["left","right"].indexOf(this.legendPosition)&&(t.legend.top="middle",t.legend.orient="vertical")),this.themeName||(t.color=this.chartColor);if(["grid","dataZoom","visualMap","toolbox","title","legend","xAxis","yAxis","radar","tooltip","axisPointer","brush","geo","timeline","graphic","series","backgroundColor","textStyle"].forEach(function(a){e[a]&&(t[a]=e[a])}),this.animation&&Object.keys(this.animation).forEach(function(a){t[a]=e.animation[a]}),this.markArea||this.markLine||this.markPoint){var a={markArea:this.markArea,markLine:this.markLine,markPoint:this.markPoint},r=t.series;"[object Array]"===getType(r)?r.forEach(function(t){e.addMark(t,a)}):"[object Object]"===getType(r)&&this.addMark(r,a)}this.extend&&Object.keys(this.extend).forEach(function(a){"function"==typeof e.extend[a]?t[a]=e.extend[a](t[a]):isArray(t[a])&&isObject(t[a][0])?t[a].forEach(function(r,i){t[a][i]=_extends({},r,e.extend[a])}):isObject(t[a])?t[a]=_extends({},t[a],e.extend[a]):t[a]=e.extend[a]}),this.afterConfig&&(t=this.afterConfig(t)),this.echarts.setOption(t,!0),this.$emit("ready",this.echarts),this._once["ready-once"]||(this._once["ready-once"]=!0,this.$emit("ready-once",this.echarts)),this.judgeWidth&&this.judgeWidthHandler(t),this.afterSetOption&&this.afterSetOption(this.echarts),this.afterSetOptionOnce&&!this._once.afterSetOptionOnce&&(this._once.afterSetOptionOnce=this.afterSetOptionOnce(this.echarts))},judgeWidthHandler:function(t){var e=this;this.$el.clientWidth?this.echarts.resize():this.$nextTick(function(t){e.$el.clientWidth?e.echarts.resize():setTimeout(function(t){e.echarts.resize(),e.$el.clientWidth||console.warn(" Can't get dom width or height ")},e.widthChangeDelay)})},addMark:function(t,e){Object.keys(e).forEach(function(a){e[a]&&(t[a]=e[a])})},init:function(){if(!this.echarts){var t=this.themeName||this.theme||"ve-chart";this.echarts=this.echartsLib.init(this.$refs.canvas,t,this.initOptions),this.data&&this.dataHandler(this.data),this.createEventProxy(),window.addEventListener("resize",this.echarts.resize)}},addWatchToProps:function(){var t=this,e=this._watchers.map(function(t){return t.expression});Object.keys(this.$props).forEach(function(a){if(!~e.indexOf(a)){var r={};"[object Object]"===getType(t.$props[a])&&(r.deep=!0),t.$watch(a,function(){t.dataHandler(t.data)},r)}})},createEventProxy:function(){var t=this,e=this,a=Object.keys(this.events||{});a.length&&a.forEach(function(a){var r;-1===t.registeredEvents.indexOf(a)&&(t.registeredEvents.push(a),t.echarts.on(a,(r=a,function(){if(r in e.events){for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];e.events[r].apply(null,a)}})))})},themeChange:function(t){this.clean(),this.echarts=null,this.init()},clean:function(){window.removeEventListener("resize",this.echarts.resize),this.echarts.dispose()}},created:function(){this.echarts=null,this.registeredEvents=[],this._once={},this.addWatchToProps()},mounted:function(){this.init()},beforeDestroy:function(){this.clean()}},index={name:"VeBar",mixins:[Core],created:function(){this.chartHandler=bar,this.echartsLib=echarts}};module.exports=index;
