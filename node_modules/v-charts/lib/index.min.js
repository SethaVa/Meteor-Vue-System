!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("echarts/lib/echarts"),require("echarts/lib/component/tooltip"),require("echarts/lib/component/legend"),require("echarts/lib/chart/bar"),require("echarts/lib/chart/line"),require("echarts/lib/chart/pie"),require("echarts/lib/chart/funnel"),require("echarts/lib/chart/radar"),require("echarts/lib/chart/map"),require("echarts/extension/bmap/bmap"),require("echarts-amap"),require("echarts/lib/chart/sankey"),require("echarts/lib/chart/heatmap"),require("echarts/lib/component/visualMap"),require("echarts/lib/chart/scatter"),require("echarts/lib/chart/candlestick"),require("echarts/lib/component/dataZoom"),require("echarts/lib/chart/gauge"),require("echarts/lib/chart/tree")):"function"==typeof define&&define.amd?define(["echarts/lib/echarts","echarts/lib/component/tooltip","echarts/lib/component/legend","echarts/lib/chart/bar","echarts/lib/chart/line","echarts/lib/chart/pie","echarts/lib/chart/funnel","echarts/lib/chart/radar","echarts/lib/chart/map","echarts/extension/bmap/bmap","echarts-amap","echarts/lib/chart/sankey","echarts/lib/chart/heatmap","echarts/lib/component/visualMap","echarts/lib/chart/scatter","echarts/lib/chart/candlestick","echarts/lib/component/dataZoom","echarts/lib/chart/gauge","echarts/lib/chart/tree"],t):e.VeIndex=t(e.echarts)}(this,function(e){"use strict";(e="default"in e?e.default:e).registerTheme("ve-chart",{categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1}},line:{smooth:!0},grid:{containLabel:!0,left:10,right:10}});var t=function(e){return['<span style="',"background-color:"+e+";","display: inline-block;","width: 10px;","height: 10px;","border-radius: 50%;","margin-right:2px;",'"></span>'].join("")},i=["#19d4ae","#5ab1ef","#fa6e86","#ffb980","#0067a6","#c4b4e4","#d87a80","#9cbbff","#d9d0c7","#87a997","#d49ea2","#5b4947","#7ba3a8"],a=["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"],n=["blue","blue","green","yellow","red"],r=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";if(null==e||isNaN(e))return a;switch(t){case"KMB":return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(+e))return e;for(var i=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],a=0;a<i.length;a++)if(Math.abs(e)>=i[a].value)return(e/i[a].value).toFixed(t)+i[a].symbol;return e.toString()}(e);case"percent":return parseFloat((100*e).toFixed(i))+"%";case"normal":return String(e).replace(/^(\s+|-)?\d+(?=.?\d*($|\s))/g,function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")});default:return e}},o=function(e){var t={};return Object.keys(e).forEach(function(i){e[i].forEach(function(e){t[e]=i})}),t},s={},l=function(e){var t,i=e.position,a=e.positionJsonLink,n=e.beforeRegisterMapOnce,r=e.mapURLProfix,o=a||""+r+i+".json";return s[o]||(s[o]=(t=o,new Promise(function(e,i){var a=new XMLHttpRequest;a.open("GET",t),a.send(null),a.onload=function(){e(JSON.parse(a.responseText))},a.onerror=function(){i(JSON.parse(a.responseText))}})).then(function(e){return n&&(e=n(e)),e})),s[o]},c=null,u=null,d=function(e,t){return c||(c=new Promise(function(i,a){var n="bmap"+Date.now();window[n]=i;var r=document.createElement("script");r.src=["https://api.map.baidu.com/api?v="+(t||"2.0"),"ak="+e,"callback="+n].join("&"),document.body.appendChild(r)})),c},m=function(e,t){return u||(u=new Promise(function(i,a){var n="amap"+Date.now();window[n]=i;var r=document.createElement("script");r.src=["https://webapi.amap.com/maps?v="+(t||"1.4.3"),"key="+e,"callback="+n].join("&"),document.body.appendChild(r)})),u},p=function(e){return JSON.parse(JSON.stringify(e))},h=function(e){return Object.prototype.toString.call(e)},f=function(e){return"[object Array]"===h(e)},v=function(e){return"[object Object]"===h(e)},b="object"==typeof global&&global&&global.Object===Object&&global,y="object"==typeof self&&self&&self.Object===Object&&self,x=b||y||Function("return this")(),g=x.Symbol,w=Object.prototype,S=w.hasOwnProperty,A=w.toString,O=g?g.toStringTag:void 0;var M=Object.prototype.toString;var j="[object Null]",V="[object Undefined]",L=g?g.toStringTag:void 0;function N(e){return null==e?void 0===e?V:j:L&&L in Object(e)?function(e){var t=S.call(e,O),i=e[O];try{e[O]=void 0;var a=!0}catch(e){}var n=A.call(e);return a&&(t?e[O]=i:delete e[O]),n}(e):(t=e,M.call(t));var t}function T(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var k="[object AsyncFunction]",_="[object Function]",E="[object GeneratorFunction]",C="[object Proxy]";var R,z=x["__core-js_shared__"],H=(R=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"";var P=Function.prototype.toString;var F=/^\[object .+?Constructor\]$/,$=Function.prototype,D=Object.prototype,q=$.toString,G=D.hasOwnProperty,I=RegExp("^"+q.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function B(e){return!(!T(e)||H&&H in e)&&(function(e){if(!T(e))return!1;var t=N(e);return t==_||t==E||t==k||t==C}(e)?I:F).test(function(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function W(e,t){var i,a=null==(i=e)?void 0:i[t];return B(a)?a:void 0}var Z=function(){try{var e=W(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function J(e,t){return e===t||e!=e&&t!=t}var Y=Object.prototype.hasOwnProperty;function U(e,t,i){var a,n,r,o=e[t];Y.call(e,t)&&J(o,i)&&(void 0!==i||t in e)||(a=e,r=i,"__proto__"==(n=t)&&Z?Z(a,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):a[n]=r)}var X=Array.isArray;var K="[object Symbol]";function Q(e){return"symbol"==typeof e||null!=(t=e)&&"object"==typeof t&&N(e)==K;var t}var ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/;var ie=W(Object,"create");var ae="__lodash_hash_undefined__",ne=Object.prototype.hasOwnProperty;var re=Object.prototype.hasOwnProperty;var oe="__lodash_hash_undefined__";function se(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function le(e,t){for(var i=e.length;i--;)if(J(e[i][0],t))return i;return-1}se.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},se.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},se.prototype.get=function(e){var t=this.__data__;if(ie){var i=t[e];return i===ae?void 0:i}return ne.call(t,e)?t[e]:void 0},se.prototype.has=function(e){var t=this.__data__;return ie?void 0!==t[e]:re.call(t,e)},se.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ie&&void 0===t?oe:t,this};var ce=Array.prototype.splice;function ue(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}ue.prototype.clear=function(){this.__data__=[],this.size=0},ue.prototype.delete=function(e){var t=this.__data__,i=le(t,e);return!(i<0||(i==t.length-1?t.pop():ce.call(t,i,1),--this.size,0))},ue.prototype.get=function(e){var t=this.__data__,i=le(t,e);return i<0?void 0:t[i][1]},ue.prototype.has=function(e){return le(this.__data__,e)>-1},ue.prototype.set=function(e,t){var i=this.__data__,a=le(i,e);return a<0?(++this.size,i.push([e,t])):i[a][1]=t,this};var de=W(x,"Map");function me(e,t){var i,a,n=e.__data__;return("string"==(a=typeof(i=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==i:null===i)?n["string"==typeof t?"string":"hash"]:n.map}function pe(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}pe.prototype.clear=function(){this.size=0,this.__data__={hash:new se,map:new(de||ue),string:new se}},pe.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},pe.prototype.get=function(e){return me(this,e).get(e)},pe.prototype.has=function(e){return me(this,e).has(e)},pe.prototype.set=function(e,t){var i=me(this,e),a=i.size;return i.set(e,t),this.size+=i.size==a?0:1,this};var he="Expected a function";function fe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(he);var i=function(){var a=arguments,n=t?t.apply(this,a):a[0],r=i.cache;if(r.has(n))return r.get(n);var o=e.apply(this,a);return i.cache=r.set(n,o)||r,o};return i.cache=new(fe.Cache||pe),i}fe.Cache=pe;var ve=500;var be,ye,xe=/^\./,ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,we=/\\(\\)?/g,Se=(be=fe(function(e){var t=[];return xe.test(e)&&t.push(""),e.replace(ge,function(e,i,a,n){t.push(a?n.replace(we,"$1"):i||e)}),t},function(e){return ye.size===ve&&ye.clear(),e}),ye=be.cache,be);var Ae=1/0,Oe=g?g.prototype:void 0,Me=Oe?Oe.toString:void 0;function je(e){if("string"==typeof e)return e;if(X(e))return function(e,t){for(var i=-1,a=null==e?0:e.length,n=Array(a);++i<a;)n[i]=t(e[i],i,e);return n}(e,je)+"";if(Q(e))return Me?Me.call(e):"";var t=e+"";return"0"==t&&1/e==-Ae?"-0":t}function Ve(e,t){return X(e)?e:function(e,t){if(X(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!Q(e))||te.test(e)||!ee.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:Se(null==(i=e)?"":je(i));var i}var Le=9007199254740991,Ne=/^(?:0|[1-9]\d*)$/;var Te=1/0;function ke(e){if("string"==typeof e||Q(e))return e;var t=e+"";return"0"==t&&1/e==-Te?"-0":t}function _e(e,t,i){return null==e?e:function(e,t,i,a){if(!T(e))return e;for(var n,r,o=-1,s=(t=Ve(t,e)).length,l=s-1,c=e;null!=c&&++o<s;){var u=ke(t[o]),d=i;if(o!=l){var m=c[u];void 0===(d=a?a(m,u,c):void 0)&&(d=T(m)?m:(n=t[o+1],(r=null==(r=void 0)?Le:r)&&("number"==typeof n||Ne.test(n))&&n>-1&&n%1==0&&n<r?[]:{}))}U(c,u,d),c=c[u]}return e}(e,t,i)}function Ee(e,t,i){var a=null==e?void 0:function(e,t){for(var i=0,a=(t=Ve(t,e)).length;null!=e&&i<a;)e=e[ke(t[i++])];return i&&i==a?e:void 0}(e,t);return void 0===a?i:a}var Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},He=function(e){return Array.isArray(e)?e:Array.from(e)},Pe=.5;function Fe(e){var t=e.innerRows,i=e.dimAxisName,a=e.dimension,n=e.axisVisible,r=e.dimAxisType,o=e.dims;return a.map(function(e){return{type:"category",name:i,nameLocation:"middle",nameGap:22,data:"value"===r?function(e){for(var t=Math.max.apply(null,e),i=[],a=Math.min.apply(null,e);a<=t;a++)i.push(a);return i}(o):t.map(function(t){return t[e]}),axisLabel:{formatter:function(e){return String(e)}},show:n}})}function $e(e){for(var t=e.meaAxisName,i=e.meaAxisType,a=e.axisVisible,n=e.digit,o=e.scale,s=e.min,l=e.max,c={type:"value",axisTick:{show:!1},show:a},u=[],d=function(e){i[e]?u[e]=ze({},c,{axisLabel:{formatter:function(t){return r(t,i[e],n)}}}):u[e]=ze({},c),u[e].name=t[e]||"",u[e].scale=o[e]||!1,u[e].min=s[e]||null,u[e].max=l[e]||null},m=0;m<2;m++)d(m);return u}function De(e){var i=e.axisSite,a=e.isHistogram,n=e.meaAxisType,o=e.digit,s=e.labelMap,l=a?i.right||[]:i.top||[];return s&&(l=l.map(function(e){return void 0===s[e]?e:s[e]})),{trigger:"axis",formatter:function(e){var i=[];return i.push(e[0].name+"<br>"),e.forEach(function(e){var a=e.seriesName,s=~l.indexOf(a)?n[1]:n[0];i.push(t(e.color)),i.push(a+": "),i.push(r(e.value,s,o)),i.push("<br>")}),i.join("")}}}function qe(e){var t,i=e.innerRows,a=e.metrics,n=e.stack,r=e.axisSite,s=e.isHistogram,l=e.labelMap,c=e.itemStyle,u=e.label,d=e.showLine,m=void 0===d?[]:d,p=e.dimAxisType,h=e.barGap,f=e.opacity,v=e.dims,b={},y=s?r.right||[]:r.top||[],x=s?"yAxisIndex":"xAxisIndex",g=n&&o(n);return a.forEach(function(e){b[e]=[]}),i.forEach(function(e){a.forEach(function(t){b[t].push(e[t])})}),!!(t=Object.keys(b).map(function(e,t){var i="value"===p?function(e,t){for(var i=Math.max.apply(null,t),a=[],n=Math.min.apply(null,t);n<=i;n++){var r=t.indexOf(n);~r?a.push(e[r]):a.push(null)}return a}(b[e],v):b[e],a=Re({name:null!=l[e]?l[e]:e,type:~m.indexOf(e)?"line":"bar",data:i},x,~y.indexOf(e)?"1":"0");n&&g[e]&&(a.stack=g[e]),u&&(a.label=u),c&&(a.itemStyle=c);var r=f||Ee(a,"itemStyle.normal.opacity");return"value"===p&&(a.barGap=h,a.barCategoryGap="1%",null==r&&(r=Pe)),null!=r&&_e(a,"itemStyle.normal.opacity",r),a})).length&&t}function Ge(e){var t=e.metrics,i=e.labelMap,a=e.legendName;return a||i?{data:i?t.map(function(e){return null==i[e]?e:i[e]}):t,formatter:function(e){return null!=a[e]?a[e]:e}}:{data:t}}function Ie(e,t){return e.map(function(e){return e[t[0]]})}var Be=function(e,t,i,a){var n=p(t),r=i.axisSite,o=void 0===r?{}:r,s=i.dimension,l=void 0===s?[e[0]]:s,c=i.stack,u=void 0===c?{}:c,d=i.axisVisible,m=void 0===d||d,h=i.digit,f=void 0===h?2:h,v=i.dataOrder,b=void 0!==v&&v,y=i.scale,x=void 0===y?[!1,!1]:y,g=i.min,w=void 0===g?[null,null]:g,S=i.max,A=void 0===S?[null,null]:S,O=i.legendName,M=void 0===O?{}:O,j=i.labelMap,V=void 0===j?{}:j,L=i.label,N=i.itemStyle,T=i.showLine,k=i.barGap,_=void 0===k?"-100%":k,E=i.opacity,C=a.tooltipVisible,R=a.legendVisible,z=e.slice();o.top&&o.bottom?z=o.top.concat(o.bottom):o.bottom&&!o.right?z=o.bottom:i.metrics?z=i.metrics:z.splice(e.indexOf(l[0]),1);var H=i.xAxisType||["normal","normal"],P=i.yAxisType||"category",F=i.xAxisName||[],$=i.yAxisName||"";if(b){var D=b.label,q=b.order;D&&q?n.sort(function(e,t){return"desc"===q?e[D]-t[D]:t[D]-e[D]}):console.warn("Need to provide name and order parameters")}var G=Ie(n,l),I=R&&Ge({metrics:z,labelMap:V,legendName:M}),B=Fe({innerRows:n,dimAxisName:$,dimension:l,axisVisible:m,dimAxisType:P,dims:G}),W=$e({meaAxisName:F,meaAxisType:H,axisVisible:m,digit:f,scale:x,min:w,max:A});return{legend:I,yAxis:B,series:qe({innerRows:n,metrics:z,stack:u,axisSite:o,isHistogram:!1,labelMap:V,itemStyle:N,label:L,showLine:T,dimAxisType:P,dimension:l,barGap:_,opacity:E,dims:G}),xAxis:W,tooltip:C&&De({axisSite:o,isHistogram:!1,meaAxisType:H,digit:f,labelMap:V})}},We=function(e,t,i,a){var n=p(t),r=i.axisSite,o=void 0===r?{}:r,s=i.dimension,l=void 0===s?[e[0]]:s,c=i.stack,u=void 0===c?{}:c,d=i.axisVisible,m=void 0===d||d,h=i.digit,f=void 0===h?2:h,v=i.dataOrder,b=void 0!==v&&v,y=i.scale,x=void 0===y?[!1,!1]:y,g=i.min,w=void 0===g?[null,null]:g,S=i.max,A=void 0===S?[null,null]:S,O=i.labelMap,M=void 0===O?{}:O,j=i.legendName,V=void 0===j?{}:j,L=i.label,N=i.itemStyle,T=i.showLine,k=i.barGap,_=void 0===k?"-100%":k,E=i.opacity;if(b){var C=b.label,R=b.order;C&&R?n.sort(function(e,t){return"desc"===R?e[C]-t[C]:t[C]-e[C]}):console.warn("Need to provide name and order parameters")}var z=a.tooltipVisible,H=a.legendVisible,P=e.slice();o.left&&o.right?P=o.left.concat(o.right):o.left&&!o.right?P=o.left:i.metrics?P=i.metrics:P.splice(e.indexOf(l[0]),1);var F=i.yAxisType||["normal","normal"],$=i.xAxisType||"category",D=i.yAxisName||[],q=i.xAxisName||"",G=Ie(n,l),I=H&&Ge({metrics:P,labelMap:M,legendName:V}),B=Fe({innerRows:n,dimAxisName:q,dimension:l,axisVisible:m,dimAxisType:$,dims:G});return{legend:I,yAxis:$e({meaAxisName:D,meaAxisType:F,axisVisible:m,digit:f,scale:x,min:w,max:A}),series:qe({innerRows:n,metrics:P,stack:u,axisSite:o,isHistogram:!0,labelMap:M,itemStyle:N,label:L,showLine:T,dimAxisType:$,dimension:l,barGap:_,opacity:E,dims:G}),xAxis:B,tooltip:z&&De({axisSite:o,isHistogram:!0,meaAxisType:F,digit:f,labelMap:M})}},Ze={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"v-charts-component-loading"},[t("div",{staticClass:"loader"},[t("div",{staticClass:"loading-spinner"},[t("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])])])])},staticRenderFns:[]},Je={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"v-charts-data-empty"},[this._v(" 暂无数据 ")])},staticRenderFns:[]},Ye={render:function(e){return e("div",{class:[(t=this.$options.name||this.$options._componentTag,t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())],style:this.canvasStyle},[e("div",{style:this.canvasStyle,ref:"canvas"}),e(Ze,{style:{display:this.loading?"":"none"}}),e(Je,{style:{display:this.dataEmpty?"":"none"}}),this.$slots.default]);var t},props:{data:{type:[Object,Array],default:function(){return{}}},settings:{type:Object,default:function(){return{}}},width:{type:String,default:"auto"},height:{type:String,default:"400px"},beforeConfig:{type:Function},afterConfig:{type:Function},afterSetOption:{type:Function},afterSetOptionOnce:{type:Function},events:{type:Object},grid:{type:[Object,Array]},colors:{type:Array},tooltipVisible:{type:Boolean,default:!0},legendVisible:{type:Boolean,default:!0},legendPosition:{type:String},markLine:{type:Object},markArea:{type:Object},markPoint:{type:Object},visualMap:{type:[Object,Array]},dataZoom:{type:[Object,Array]},toolbox:{type:[Object,Array]},initOptions:{type:Object,default:function(){return{}}},title:Object,legend:[Object,Array],xAxis:[Object,Array],yAxis:[Object,Array],radar:Object,tooltip:Object,axisPointer:Object,brush:[Object,Array],geo:Object,timeline:[Object,Array],graphic:[Object,Array],series:[Object,Array],backgroundColor:[Object,String],textStyle:Object,animation:Object,theme:Object,themeName:String,loading:Boolean,dataEmpty:Boolean,extend:Object,judgeWidth:{type:Boolean,default:!0},widthChangeDelay:{type:Number,default:300},tooltipFormatter:{type:Function}},watch:{data:{deep:!0,handler:function(e){e&&this.dataHandler(e)}},settings:{deep:!0,handler:function(e){e.type&&this.chartLib&&(this.chartHandler=this.chartLib[e.type]),this.dataHandler(this.data)}},events:{deep:!0,handler:function(){this.createEventProxy()}},theme:{deep:!0,handler:function(e){this.themeChange(e)}},themeName:function(e){this.themeChange(e)}},computed:{canvasStyle:function(){return{width:this.width,height:this.height,position:"relative"}},chartColor:function(){return this.colors||this.theme&&this.theme.color||i}},methods:{dataHandler:function(e){if(this.chartHandler){var t=e,i=t.columns,a=void 0===i?[]:i,n=t.rows,r=void 0===n?[]:n,o={tooltipVisible:this.tooltipVisible,legendVisible:this.legendVisible,echarts:this.echarts,color:this.chartColor,tooltipFormatter:this.tooltipFormatter};this.beforeConfig&&(e=this.beforeConfig(e));var s=this.chartHandler(a,r,this.settings,o);s&&("function"==typeof s.then?s.then(this.optionsHandler):this.optionsHandler(s))}},resize:function(){this.echarts.resize()},optionsHandler:function(e){var t=this;this.legendPosition&&e.legend&&(e.legend[this.legendPosition]=10,~["left","right"].indexOf(this.legendPosition)&&(e.legend.top="middle",e.legend.orient="vertical")),this.themeName||(e.color=this.chartColor);if(["grid","dataZoom","visualMap","toolbox","title","legend","xAxis","yAxis","radar","tooltip","axisPointer","brush","geo","timeline","graphic","series","backgroundColor","textStyle"].forEach(function(i){t[i]&&(e[i]=t[i])}),this.animation&&Object.keys(this.animation).forEach(function(i){e[i]=t.animation[i]}),this.markArea||this.markLine||this.markPoint){var i={markArea:this.markArea,markLine:this.markLine,markPoint:this.markPoint},a=e.series;"[object Array]"===h(a)?a.forEach(function(e){t.addMark(e,i)}):"[object Object]"===h(a)&&this.addMark(a,i)}this.extend&&Object.keys(this.extend).forEach(function(i){"function"==typeof t.extend[i]?e[i]=t.extend[i](e[i]):f(e[i])&&v(e[i][0])?e[i].forEach(function(a,n){e[i][n]=ze({},a,t.extend[i])}):v(e[i])?e[i]=ze({},e[i],t.extend[i]):e[i]=t.extend[i]}),this.afterConfig&&(e=this.afterConfig(e)),this.echarts.setOption(e,!0),this.$emit("ready",this.echarts),this._once["ready-once"]||(this._once["ready-once"]=!0,this.$emit("ready-once",this.echarts)),this.judgeWidth&&this.judgeWidthHandler(e),this.afterSetOption&&this.afterSetOption(this.echarts),this.afterSetOptionOnce&&!this._once.afterSetOptionOnce&&(this._once.afterSetOptionOnce=this.afterSetOptionOnce(this.echarts))},judgeWidthHandler:function(e){var t=this;this.$el.clientWidth?this.echarts.resize():this.$nextTick(function(e){t.$el.clientWidth?t.echarts.resize():setTimeout(function(e){t.echarts.resize(),t.$el.clientWidth||console.warn(" Can't get dom width or height ")},t.widthChangeDelay)})},addMark:function(e,t){Object.keys(t).forEach(function(i){t[i]&&(e[i]=t[i])})},init:function(){if(!this.echarts){var e=this.themeName||this.theme||"ve-chart";this.echarts=this.echartsLib.init(this.$refs.canvas,e,this.initOptions),this.data&&this.dataHandler(this.data),this.createEventProxy(),window.addEventListener("resize",this.echarts.resize)}},addWatchToProps:function(){var e=this,t=this._watchers.map(function(e){return e.expression});Object.keys(this.$props).forEach(function(i){if(!~t.indexOf(i)){var a={};"[object Object]"===h(e.$props[i])&&(a.deep=!0),e.$watch(i,function(){e.dataHandler(e.data)},a)}})},createEventProxy:function(){var e=this,t=this,i=Object.keys(this.events||{});i.length&&i.forEach(function(i){var a;-1===e.registeredEvents.indexOf(i)&&(e.registeredEvents.push(i),e.echarts.on(i,(a=i,function(){if(a in t.events){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];t.events[a].apply(null,i)}})))})},themeChange:function(e){this.clean(),this.echarts=null,this.init()},clean:function(){window.removeEventListener("resize",this.echarts.resize),this.echarts.dispose()}},created:function(){this.echarts=null,this.registeredEvents=[],this._once={},this.addWatchToProps()},mounted:function(){this.init()},beforeDestroy:function(){this.clean()}},Ue={name:"VeBar",mixins:[Ye],created:function(){this.chartHandler=Be,this.echartsLib=e}},Xe={name:"VeHistogram",mixins:[Ye],created:function(){this.chartHandler=We,this.echartsLib=e}};var Ke=function(e,i,a,n){var s=a.axisSite,l=void 0===s?{}:s,c=a.yAxisType,u=void 0===c?["normal","normal"]:c,d=a.xAxisType,m=void 0===d?"category":d,p=a.yAxisName,h=void 0===p?[]:p,f=a.dimension,v=void 0===f?[e[0]]:f,b=a.xAxisName,y=void 0===b?[]:b,x=a.axisVisible,g=void 0===x||x,w=a.area,S=a.stack,A=a.scale,O=void 0===A?[!1,!1]:A,M=a.min,j=void 0===M?[null,null]:M,V=a.max,L=void 0===V?[null,null]:V,N=a.nullAddZero,T=void 0!==N&&N,k=a.digit,_=void 0===k?2:k,E=a.legendName,C=void 0===E?{}:E,R=a.labelMap,z=void 0===R?{}:R,H=a.label,P=a.itemStyle,F=a.lineStyle,$=a.areaStyle,D=n.tooltipVisible,q=n.legendVisible,G=n.tooltipFormatter,I=e.slice();l.left&&l.right?I=l.left.concat(l.right):l.left&&!l.right?I=l.left:a.metrics?I=a.metrics:I.splice(e.indexOf(v[0]),1);var B,W,Z,J,Y,U,X,K,Q,ee,te,ie,ae,ne,re,oe,se,le,ce,ue,de,me,pe,he,fe,ve,be,ye,xe,ge,we,Se,Ae,Oe,Me,je,Ve=q&&(W=(B={metrics:I,legendName:C,labelMap:z}).metrics,Z=B.legendName,J=B.labelMap,Z||J?{data:J?W.map(function(e){return null==J[e]?e:J[e]}):W,formatter:function(e){return null!=Z[e]?Z[e]:e}}:{data:W}),Le=D&&(U=(Y={axisSite:l,yAxisType:u,digit:_,labelMap:z,xAxisType:m,tooltipFormatter:G}).axisSite,X=Y.yAxisType,K=Y.digit,Q=Y.labelMap,ee=Y.xAxisType,te=Y.tooltipFormatter,ie=U.right||[],ae=Q?ie.map(function(e){return void 0===Q[e]?e:Q[e]}):ie,{trigger:"axis",formatter:function(e){if(te)return te.apply(null,arguments);var i=[],a=e[0],n=a.name,o=a.axisValueLabel,s=n||o;return i.push(s+"<br>"),e.forEach(function(e){var a,n=~ae.indexOf(e.seriesName)?X[1]:X[0],o="category"===ee?e.data:e.data[1];a=r(o,n,K),i.push(t(e.color)),i.push(e.seriesName+": "+a),i.push("<br>")}),i.join("")}}),Ne=(re=(ne={dimension:v,rows:i,xAxisName:y,axisVisible:g,xAxisType:m}).dimension,oe=ne.rows,se=ne.xAxisName,le=ne.axisVisible,ce=ne.xAxisType,re.map(function(e,t){return{type:ce,nameLocation:"middle",nameGap:22,boundaryGap:!1,name:se[t]||"",axisTick:{show:!0,lineStyle:{color:"#eee"}},data:oe.map(function(t){return t[e]}),show:le}})),Te=function(e){for(var t=e.yAxisName,i=e.yAxisType,a=e.axisVisible,n=e.scale,o=e.min,s=e.max,l=e.digit,c={type:"value",axisTick:{show:!1},show:a},u=[],d=function(e){i[e]?u[e]=ze({},c,{axisLabel:{formatter:function(t){return r(t,i[e],l)}}}):u[e]=ze({},c),u[e].name=t[e]||"",u[e].scale=n[e]||!1,u[e].min=o[e]||null,u[e].max=s[e]||null},m=0;m<2;m++)d(m);return u}({yAxisName:h,yAxisType:u,axisVisible:g,scale:O,min:j,max:L,digit:_}),ke=(de=(ue={rows:i,axisSite:l,metrics:I,area:w,stack:S,nullAddZero:T,labelMap:z,label:H,itemStyle:P,lineStyle:F,areaStyle:$,xAxisType:m,dimension:v}).rows,me=ue.axisSite,pe=ue.metrics,he=ue.area,fe=ue.stack,ve=ue.nullAddZero,be=ue.labelMap,ye=ue.label,xe=ue.itemStyle,ge=ue.lineStyle,we=ue.areaStyle,Se=ue.xAxisType,Ae=ue.dimension,Oe=[],Me={},je=fe&&o(fe),pe.forEach(function(e){Me[e]=[]}),de.forEach(function(e){pe.forEach(function(t){var i=null;null!=e[t]?i=e[t]:ve&&(i=0);var a="category"===Se?i:[e[Ae[0]],i];Me[t].push(a)})}),pe.forEach(function(e){var t={name:null!=be[e]?be[e]:e,type:"line",data:Me[e]};he&&(t.areaStyle={normal:{}}),me.right&&(t.yAxisIndex=~me.right.indexOf(e)?1:0),fe&&je[e]&&(t.stack=je[e]),ye&&(t.label=ye),xe&&(t.itemStyle=xe),ge&&(t.lineStyle=ge),we&&(t.areaStyle=we),Oe.push(t)}),!!Oe.length&&Oe);return!(!Ne||!ke)&&{legend:Ve,xAxis:Ne,series:ke,yAxis:Te,tooltip:Le}},Qe={name:"VeLine",mixins:[Ye],created:function(){this.chartHandler=Ke,this.echartsLib=e}},et=[80,100],tt=[20,100];var it=function(e,i,a,n,o){var s,l,c,u,d,m,h,f,v,b=p(i),y=a.dataType,x=void 0===y?"normal":y,g=a.percentShow,w=a.dimension,S=void 0===w?e[0]:w,A=a.metrics,O=void 0===A?e[1]:A,M=a.roseType,j=void 0!==M&&M,V=a.radius,L=void 0===V?o?j?tt:et:100:V,N=a.offsetY,T=void 0===N?200:N,k=a.legendLimit,_=void 0===k?30:k,E=a.selectedMode,C=void 0!==E&&E,R=a.hoverAnimation,z=void 0===R||R,H=a.digit,P=void 0===H?2:H,F=a.legendName,$=void 0===F?{}:F,D=a.label,q=void 0!==D&&D,G=a.level,I=void 0!==G&&G,B=a.limitShowNum,W=void 0===B?0:B,Z=a.labelLine,J=a.itemStyle,Y=n.tooltipVisible,U=n.legendVisible;return W&&b.sort(function(e,t){return t[O]-e[O]}),{series:function(e){var t=e.innerRows,i=e.dataType,a=e.percentShow,n=e.dimension,o=e.metrics,s=e.radius,l=e.offsetY,c=e.selectedMode,u=e.hoverAnimation,d=e.digit,m=e.roseType,p=e.label,h=e.level,f=e.limitShowNum,v=e.isRing,b=e.labelLine,y=e.itemStyle,x=[],g={},w=[];h?(h.forEach(function(e,t){e.forEach(function(e){g[e]=t})}),t.forEach(function(e){var t=g[e[n]];void 0!==t&&(w[t]?w[t].push(e):w[t]=[e])})):w.push(t);var S={type:"pie",selectedMode:c,hoverAnimation:u,roseType:m,center:["50%",l]},A=w.length;if(w.forEach(function(e,t){var l=ze({data:[]},S),c=s/A;if(t){var u=c+s/(2*A)*(2*t-1),m=u+s/(2*A);l.radius=[u,m]}else l.radius=v?s:c;A>1&&0===t&&(l.label={normal:{position:"inner"}}),p&&(l.label=p),b&&(l.labelLine=b),y&&(l.itemStyle=y),a&&(l.label={normal:{show:!0,position:A>1&&0===t?"inner":"outside",formatter:function(e){var t=[];return t.push(e.name+":"),t.push(r(e.value,i,d)),t.push("("+e.percent+"%)"),t.join(" ")}}}),l.data=e.map(function(e){return{name:e[n],value:e[o]}}),x.push(l)}),f&&f<x[0].data.length){var O=x[0].data,M=0;O.slice(f,O.length).forEach(function(e){M+=e.value}),x[0].data=O.slice(0,f),x[0].data.push({name:"其他",value:M})}return x}({innerRows:b,dataType:x,percentShow:g,dimension:S,metrics:O,radius:L,offsetY:T,selectedMode:C,hoverAnimation:z,digit:P,roseType:j,label:q,level:I,legendName:$,limitShowNum:W,isRing:o,labelLine:Z,itemStyle:J}),legend:U&&function(e){var t=e.innerRows,i=e.dimension,a=e.legendLimit,n=e.legendName,r=e.level,o=e.limitShowNum,s=[],l=[];if(r)r.forEach(function(e){e.forEach(function(e){l.push(e)})}),s=l;else if(o&&o<t.length){for(var c=0;c<o;c++)s.push(t[c][i]);s.push("其他")}else s=t.map(function(e){return e[i]});return!!s.length&&{data:s,show:s.length<a,formatter:function(e){return null!=n[e]?n[e]:e}}}({innerRows:b,dimension:S,legendLimit:_,legendName:$,level:I,limitShowNum:W}),tooltip:Y&&(l=(s={dataType:x,innerRows:b,limitShowNum:W,digit:P,metrics:O,dimension:S}).dataType,c=s.innerRows,u=s.limitShowNum,d=s.digit,m=s.metrics,h=s.dimension,f=0,v=c.map(function(e){return f+=e[m],{name:e[h],value:e[m]}}).slice(u,c.length),{formatter:function(e){var i=[];return i.push(t(e.color)),u&&"其他"===e.name?(i.push("其他:"),v.forEach(function(e){var t=e.name,a=e.value,n=r(a/f,"percent");i.push("<br>"+t+":"),i.push(r(a,l,d)),i.push("("+n+")")})):(i.push(e.name+":"),i.push(r(e.value,l,d)),i.push("("+e.percent+"%)")),i.join(" ")}})}},at=function(e,t,i,a){return it(e,t,i,a,!0)},nt={name:"VePie",mixins:[Ye],created:function(){this.chartHandler=it,this.echartsLib=e}},rt={name:"VeRing",mixins:[Ye],created:function(){this.chartHandler=at,this.echartsLib=e}};var ot=function(e,t,i,a){var n=i.dataType,o=void 0===n?"normal":n,s=i.dimension,l=void 0===s?e[0]:s,c=i.totalName,u=void 0===c?"总计":c,d=i.totalNum,m=i.remainName,p=void 0===m?"其他":m,h=i.xAxisName,f=void 0===h?l:h,v=i.labelMap,b=void 0===v?{}:v,y=i.axisVisible,x=void 0===y||y,g=i.digit,w=void 0===g?2:g,S=a.tooltipVisible,A=e.slice();A.splice(A.indexOf(l),1);var O,M,j,V,L,N,T,k,_,E,C,R,z,H,P,F,$,D,q,G=A[0],I=G,B=S&&(O=o,M=w,{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){var t=e[1];return[t.name+"<br/>"+t.seriesName+" :",""+r(t.value,O,M)].join("")}}),W=parseFloat(t.reduce(function(e,t){return e+Number(t[G])},0).toFixed(w)),Z=(j=d)?j>W?"have-remain":"none-remain":"not-total";return{tooltip:B,xAxis:(L=(V={dimension:l,rows:t,remainStatus:Z,totalName:u,remainName:p,xAxisName:f,labelMap:b,axisVisible:x}).dimension,N=V.rows,T=V.remainStatus,k=V.totalName,_=V.remainName,E=V.labelMap,C=V.xAxisName,R=V.axisVisible,z=[k].concat(N.map(function(e){return e[L]})),"have-remain"===T&&(z=z.concat([_])),{type:"category",name:E&&E[C]||C,splitLine:{show:!1},data:z,show:R}),yAxis:(P=(H={dataType:o,yAxisName:I,axisVisible:x,digit:w,labelMap:b}).dataType,F=H.yAxisName,$=H.axisVisible,D=H.digit,{type:"value",name:null!=(q=H.labelMap)[F]?q[F]:F,axisTick:{show:!1},axisLabel:{formatter:function(e){return r(e,P,D)}},show:$}),series:function(e){var t=e.dataType,i=e.rows,a=e.metrics,n=e.totalNum,o=e.remainStatus,s=e.dataSum,l=e.digit,c={type:"bar",stack:"总量"},u=s,d=n,m=void 0,p=void 0,h=i.map(function(e){return e[a]});"have-remain"===o?(m=[0].concat(i.map(function(e){return d-=e[a]})).concat([0]),p=[n].concat(h).concat([n-s])):(m=[0].concat(i.map(function(e){return u-=e[a]})),p=[s].concat(h));var f=[];return f.push(ze({name:"辅助",itemStyle:{normal:{opacity:0},emphasis:{opacity:0}},data:m},c)),f.push(ze({name:"数值",label:{normal:{show:!0,position:"top",formatter:function(e){return r(e.value,t,l)}}},data:p},c)),f}({dataType:o,rows:t,dimension:l,metrics:G,totalNum:d,remainStatus:Z,dataSum:W,digit:w})}},st={name:"VeWaterfall",mixins:[Ye],created:function(){this.chartHandler=ot,this.echartsLib=e}};var lt=function(e,i,a,n){var o=e.slice(),s=i.slice(),l=a.dataType,c=void 0===l?"normal":l,u=a.dimension,d=void 0===u?o[0]:u,m=a.sequence,p=void 0===m?s.map(function(e){return e[d]}):m,h=a.digit,f=void 0===h?2:h,v=a.ascending,b=a.label,y=a.labelLine,x=a.legendName,g=void 0===x?{}:x,w=a.itemStyle,S=n.tooltipVisible,A=n.legendVisible,O=void 0;if(a.metrics)O=a.metrics;else{var M=o.slice();M.splice(o.indexOf(d),1),O=M[0]}var j,V,L,N,T,k=S&&(j=c,V=f,{trigger:"item",formatter:function(e){var i=[];return i.push(t(e.color)),i.push(e.name+": "+r(e.data.realValue,j,V)),i.join("")}}),_={dimension:d,metrics:O,rows:s,sequence:p,ascending:v,label:b,labelLine:y,itemStyle:w};return{tooltip:k,legend:A&&(N=(L={data:p,legendName:g}).data,T=L.legendName,{data:N,formatter:function(e){return null!=T[e]?T[e]:e}}),series:function(e){var t=e.dimension,i=e.metrics,a=e.rows,n=e.sequence,r=e.ascending,o=e.label,s=e.labelLine,l=e.itemStyle,c={type:"funnel"};a.sort(function(e,i){return n.indexOf(e[t])-n.indexOf(i[t])});var u=!1;a.some(function(e,t){if(t&&e[i]>a[t-1][i])return u=!0,!0});var d=100/a.length;return c.data=u?a.slice().reverse().map(function(e,a){return{name:e[t],value:(a+1)*d,realValue:e[i]}}):a.map(function(e){return{name:e[t],value:e[i],realValue:e[i]}}),r&&(c.sort="ascending"),o&&(c.label=o),s&&(c.labelLine=s),l&&(c.itemStyle=l),c}(_)}},ct={name:"VeFunnel",mixins:[Ye],created:function(){this.chartHandler=lt,this.echartsLib=e}};var ut=function(e,i,a,n){var o=a.dataType,s=void 0===o?{}:o,l=a.legendName,c=void 0===l?{}:l,u=a.labelMap,d=void 0===u?{}:u,m=a.dimension,p=void 0===m?e[0]:m,h=a.digit,f=void 0===h?2:h,v=a.label,b=a.itemStyle,y=a.lineStyle,x=a.areaStyle,g=n.tooltipVisible,w=n.legendVisible,S=e.slice();a.metrics?S=a.metrics:S.splice(e.indexOf(p),1);var A,O,M,j,V,L,N,T,k,_,E=w&&(A=p,O=c,{data:i.map(function(e){return e[A]}),formatter:function(e){return null!=O[e]?O[e]:e}}),C=(M=S,j=d,V={indicator:[],shape:"circle",splitNumber:5},L={},i.forEach(function(e){M.forEach(function(t){var i=null!=j[t]?j[t]:t;L[i]?L[i].push(e[t]):L[i]=[e[t]]})}),V.indicator=Object.keys(L).map(function(e){return{name:e,max:Math.max.apply(null,L[e])}}),V);return{legend:E,tooltip:g&&(N=s,T=f,k=[],_=[],C.indicator.map(function(e,t){k[t]=N[e.name],_[t]=e.name}),{formatter:function(e){var i=[];return i.push(t(e.color)),i.push(e.name+"<br />"),e.data.value.forEach(function(e,t){i.push(_[t]+": "),i.push(r(e,k[t],T)+"<br />")}),i.join("")}}),radar:C,series:function(e){var t=e.rows,i=e.dimension,a=e.metrics,n=e.radar,r=e.label,o=e.itemStyle,s=e.lineStyle,l=e.labelMap,c=e.areaStyle,u={};n.indicator.forEach(function(e,t){var i=e.name;u[i]=t});var d=t.map(function(e){var t={value:[],name:e[i]};return Object.keys(e).forEach(function(i){if(~a.indexOf(i)){var n=null!=l[i]?u[l[i]]:u[i];t.value[n]=e[i]}}),t}),m={name:i,type:"radar",data:d};return r&&(m.label=r),o&&(m.itemStyle=o),s&&(m.lineStyle=s),c&&(m.areaStyle=c),[m]}({rows:i,dimension:p,metrics:S,radar:C,label:v,itemStyle:b,lineStyle:y,labelMap:d,areaStyle:x})}},dt={name:"VeRadar",mixins:[Ye],created:function(){this.chartHandler=ut,this.echartsLib=e}},mt={name:"VeChart",mixins:[Ye],created:function(){this.chartLib={bar:Be,histogram:We,line:Ke,pie:it,ring:at,funnel:lt,radar:ut,waterfall:ot},this.chartHandler=this.chartLib[this.settings.type],this.echartsLib=e}};function pt(e,t,i){"object"===(void 0===e?"undefined":Ce(e))?t[i]=e:e&&(t[i]={normal:{show:!0},emphasis:{show:!0}})}var ht=function(i,a,n,o){var s=n.position,c=void 0===s?"china":s,u=n.selectData,d=void 0!==u&&u,m=n.selectedMode,p=n.label,h=void 0===p||p,f=n.dataType,v=void 0===f?{}:f,b=n.digit,y=void 0===b?2:b,x=n.dimension,g=void 0===x?i[0]:x,w=n.roam,S=n.center,A=n.aspectScale,O=n.boundingCoords,M=n.zoom,j=n.scaleLimit,V=n.legendName,L=void 0===V?{}:V,N=n.labelMap,T=void 0===N?{}:N,k=n.mapGrid,_=n.itemStyle,E=n.positionJsonLink,C=n.beforeRegisterMap,R=n.beforeRegisterMapOnce,z=n.mapURLProfix,H=void 0===z?"https://unpkg.com/echarts@3.6.2/map/json/":z,P=n.specialAreas,F=void 0===P?{}:P,$=i.slice();n.metrics?$=n.metrics:$.splice(i.indexOf(g),1);var D=o.tooltipVisible,q=o.legendVisible,G=o.color,I={};a.forEach(function(e){I[e[g]]=e});var B,W,Z,J,Y,U,X,K,Q,ee,te,ie,ae,ne,re,oe,se,le,ce,ue,de,me,pe,he,fe,ve,be,ye,xe,ge=D&&(B=v,W=y,Z=I,J=$,Y=G,U=T,{formatter:function(e){var i=[];return i.push(e.name+"<br>"),J.forEach(function(a,n){var o=null!=U[a]?U[a]:a;i.push(t(Y[n])+" "+o+" : "),Z[e.name]?i.push(r(Z[e.name][a],B[a],W)):i.push("-"),i.push("<br>")}),i.join(" ")}}),we=q&&(K=(X={metrics:$,legendName:L,labelMap:T}).metrics,Q=X.legendName,ee=X.labelMap,Q||ee?{data:ee?K.map(function(e){return null==ee[e]?e:ee[e]}):K,formatter:function(e){return null!=Q[e]?Q[e]:e}}:{data:K}),Se=(ie=(te={position:c,selectData:d,label:h,itemStyle:_,dimension:g,metrics:$,rows:a,selectedMode:m,roam:w,center:S,aspectScale:A,boundingCoords:O,zoom:M,labelMap:T,scaleLimit:j,mapGrid:k}).position,ae=te.selectData,ne=te.dimension,re=te.metrics,oe=te.rows,se=te.label,le=te.itemStyle,ce=te.selectedMode,ue=te.roam,de=te.center,me=te.aspectScale,pe=te.boundingCoords,he=te.zoom,fe=te.labelMap,ve=te.scaleLimit,be=te.mapGrid,ye=[],xe={type:"map",mapType:ie},re.forEach(function(e){var t=ze({name:null!=fe[e]?fe[e]:e,data:[],selectedMode:ce,roam:ue,center:de,aspectScale:me,boundingCoords:pe,zoom:he,scaleLimit:ve},xe);be&&Object.keys(be).forEach(function(e){t[e]=be[e]}),pt(le,t,"itemStyle"),pt(se,t,"label"),oe.forEach(function(i){t.data.push({name:i[ne],value:i[e],selected:ae})}),ye.push(t)}),ye);return l({position:c,positionJsonLink:E,beforeRegisterMapOnce:R,mapURLProfix:H}).then(function(t){return C&&(t=C(t)),e.registerMap(c,t,F),{series:Se,tooltip:ge,legend:we}})},ft={name:"VeMap",mixins:[Ye],created:function(){this.chartHandler=ht,this.echartsLib=e}},vt=function(e,t,i){var a=i.key,n=i.v,r=i.bmap;return a||console.warn("settings.key must be a string."),d(a,n).then(function(e){return{bmap:r}})},bt={name:"VeBmap",mixins:[Ye],created:function(){this.chartHandler=vt,this.echartsLib=e}},yt=function(e,t,i){var a=i.key,n=i.v,r=i.amap;return a||console.warn("settings.key must be a string."),m(a,n).then(function(e){return{amap:r}})},xt={name:"VeAmap",mixins:[Ye],created:function(){this.chartHandler=yt,this.echartsLib=e}};var gt=function(e,i,a,n){var o=a.links,s=a.dimension,l=void 0===s?e[0]:s,c=a.metrics,u=void 0===c?e[1]:c,d=a.dataType,m=void 0===d?["normal","normal"]:d,p=a.digit,h=void 0===p?2:p,f=a.valueFull,v=void 0!==f&&f,b=a.useDataValue,y=void 0!==b&&b,x=a.label,g=a.itemStyle,w=a.lineStyle;if(o){var S,A,O,M,j,V,L,N,T,k,_,E,C,R,z,H,P=m[0],F=m[1];return{tooltip:(A=(S={itemDataType:P,linksDataType:F,digit:h}).itemDataType,O=S.linksDataType,M=S.digit,{trigger:"item",formatter:function(e){var i=[],a=e.name,n=e.data,o=e.value,s=e.color;return i.push(t(s)),i.push(a+" : "),n&&n.source?i.push(r(o,O,M)+"<br />"):i.push(r(o,A,M)+"<br />"),i.join("")}}),series:(V=(j={rows:i,dimension:l,metrics:u,links:o,valueFull:v,useDataValue:y,label:x,itemStyle:g,lineStyle:w}).rows,L=j.dimension,N=j.metrics,T=j.links,k=j.valueFull,_=j.useDataValue,E=j.label,C=j.itemStyle,R=j.lineStyle,z={},H={type:"sankey",data:V.map(function(e){return z[e[L]]=e[N],{name:e[L],value:e[N]}}),links:_?T.map(function(e){return ze({},e,{value:z[e.target]})}):k?T:T.map(function(e){return null==e.value?ze({},e,{value:z[e.target]}):e})},E&&(H.label=E),C&&(H.itemStyle=C),R&&(H.lineStyle=R),[H])}}console.warn("links is needed in settings!")},wt={name:"VeSankey",mixins:[Ye],created:function(){this.chartHandler=gt,this.echartsLib=e}};function St(e,t){var i=[];return e.forEach(function(e){~i.indexOf(e[t])||i.push(e[t])}),i}function At(e){var t=e.rows,i=e.innerXAxisList,a=e.innerYAxisList,n=e.xDim,r=e.yDim,o=e.metrics,s=e.type,l=e.extraMetrics;return"cartesian"===s?t.map(function(e){var t=i.indexOf(e[n]),s=a.indexOf(e[r]),c=o?e[o]:1,u=l.map(function(t){return e[t]||"-"});return{value:[t,s,c].concat(u)}}):t.map(function(e){var t=o?e[o]:1;return{value:[e[n],e[r],t]}})}function Ot(e,t){return{type:"category",data:e,name:t,nameLocation:"end",splitArea:{show:!0}}}var Mt=function(i,o,s,c){var u=s.type,p=void 0===u?"cartesian":u,h=s.xAxisList,f=s.yAxisList,v=s.dimension,b=void 0===v?[i[0],i[1]]:v,y=s.metrics,x=void 0===y?i[2]:y,g=s.dataType,w=void 0===g?"normal":g,S=s.min,A=s.max,O=s.digit,M=s.bmap,j=s.amap,V=s.geo,L=s.key,N=s.v,T=void 0===N?"2.0":N,k=s.position,_=s.positionJsonLink,E=s.beforeRegisterMap,C=s.pointSize,R=void 0===C?10:C,z=s.blurSize,H=void 0===z?5:z,P=s.heatColor,F=s.yAxisName,$=s.xAxisName,D=s.beforeRegisterMapOnce,q=s.mapURLProfix,G=void 0===q?"https://unpkg.com/echarts@3.6.2/map/json/":q,I=s.specialAreas,B=void 0===I?{}:I,W=c.tooltipVisible,Z=h,J=f,Y=[],U=[],X=b.concat([x]);i.forEach(function(e){~X.indexOf(e)||U.push(e)}),"cartesian"===p?(Z&&Z.length||(Z=St(o,b[0])),J&&J.length||(J=St(o,b[1])),Y=At({rows:o,innerXAxisList:Z,innerYAxisList:J,xDim:b[0],yDim:b[1],metrics:x,type:p,extraMetrics:U})):Y=At({rows:o,xDim:b[0],yDim:b[1],metrics:x,type:p,extraMetrics:U});var K,Q,ee,te,ie,ae,ne,re,oe,se,le,ce,ue=x?o.map(function(e){return e[x]}):[0,5],de=S||Math.min.apply(null,ue),me=A||Math.max.apply(null,ue),pe=Ot(Z,$),he=Ot(J,F),fe=(Q=(K={innerMin:de,innerMax:me,type:p,heatColor:P}).innerMin,ee=K.innerMax,te=K.type,ie=K.heatColor,ze({min:Q,max:ee,calculable:!0},"map"===te?{orient:"vertical",left:0,bottom:0,inRange:{color:ie||a}}:"bmap"===te||"amap"===te?{show:!1,orient:"vertical",left:0,bottom:0,inRange:{color:ie||n}}:{orient:"horizontal",left:"center",bottom:10,dimension:2,inRange:ie&&{color:ie}})),ve=[{type:"heatmap",data:{chartData:Y}.chartData}],be=W&&(ne=(ae={dataType:w,innerXAxisList:Z,innerYAxisList:J,digit:O,extraMetrics:U,metrics:x}).dataType,re=ae.innerXAxisList,oe=ae.innerYAxisList,se=ae.digit,le=ae.extraMetrics,ce=ae.metrics,{trigger:"item",formatter:function(e){var i=e.color,a=He(e.data.value),n=a[0],o=a[1],s=a[2],l=a.slice(3),c=[];return c.push(re[n]+" ~ "+oe[o]+"<br>"),le.forEach(function(e,t){c.push(e+": "+l[t]+"<br>")}),c.push(t(i)+" "+ce+": "+r(s,ne,se)+"<br>"),c.join("")}}),ye={visualMap:fe,series:ve};return"bmap"===p?(ze(ye.series[0],{coordinateSystem:"bmap",pointSize:R,blurSize:H}),d(L,T).then(function(e){return ze({bmap:M},ye)})):"map"===p?(ye.series[0].coordinateSystem="geo",l({position:k,positionJsonLink:_,beforeRegisterMapOnce:D,mapURLProfix:G}).then(function(t){var i=ze({map:k},V);return E&&(t=E(t)),e.registerMap(k,t,B),ze({geo:i},ye)})):"amap"===p?(ze(ye.series[0],{coordinateSystem:"amap",pointSize:R,blurSize:H}),m(L,T).then(function(e){return ze({amap:j},ye)})):ze({xAxis:pe,yAxis:he,tooltip:be},ye)};function jt(e,i){var a=i.labelMap,n=i.columns,o=i.dataType,s=i.digit,l=[],c=e.color,u=e.seriesName,d=e.data.value;return l.push(t(c)+" "+u+"<br>"),d.forEach(function(e,t){var i=a[n[t]]||n[t],c=isNaN(e)?e:r(e,o[n[t]],s);l.push(i+": "+c+"<br>")}),l.join("")}var Vt=function(e,t,i,a){var n=i.dimension,o=void 0===n?e[0]:n,s=i.metrics,l=void 0===s?[e[1],e[2]]:s,c=i.dataType,u=void 0===c?{}:c,d=i.xAxisType,m=void 0===d?"category":d,p=i.xAxisName,h=i.yAxisName,v=i.digit,b=void 0===v?2:v,y=i.legendName,x=void 0===y?{}:y,g=i.labelMap,w=void 0===g?{}:g,S=i.tooltipTrigger,A=void 0===S?"item":S,O=i.axisVisible,M=void 0===O||O,j=i.symbolSizeMax,V=void 0===j?50:j,L=i.symbol,N=i.symbolSize,T=i.symbolRotate,k=i.symbolOffset,_=i.cursor,E=i.min,C=i.max,R=i.scale,z=i.label,H=i.itemStyle;if(f(t)){var P=ze({},i,{xAxisName:p?[p]:void 0,yAxisName:h?[h]:void 0,scale:R?[R]:void 0,min:E?[E]:void 0,max:C?[C]:void 0,dimension:o?[o]:void 0}),F=Ke(e,t,P,a);return F.series.forEach(function(e){ze(e,{type:"scatter",symbol:L,symbolSize:N||10,symbolRotate:T,symbolOffset:k,cursor:_,label:z,itemStyle:H})}),F}var $,D,q,G,I,B,W,Z,J,Y,U,X,K,Q,ee,te,ie,ae,ne=a.tooltipVisible,re=a.legendVisible,oe=Object.keys(t);return{legend:re&&($=x,{data:oe,formatter:function(e){return null!=$[e]?$[e]:e}}),tooltip:ne&&{trigger:(D={tooltipTrigger:A,labelMap:w,columns:e,dataType:u,digit:b}).tooltipTrigger,formatter:function(e){return f(e)?e.map(function(e){return jt(e,D)}).join(""):jt(e,D)}},xAxis:(G=(q={xAxisName:p,axisVisible:M,xAxisType:m,dataLabels:oe,dimension:o,rows:t}).xAxisName,I=q.axisVisible,B=q.xAxisType,W=q.rows,Z=q.dataLabels,J=q.dimension,Y=[],Z.forEach(function(e){W[e].forEach(function(e){var t=e[J];t&&!~Y.indexOf(t)&&Y.push(t)})}),[{type:B,show:I,name:G,data:Y}]),yAxis:(X=(U={min:E,max:C,scale:R,yAxisName:h,dataType:u,metrics:l,digit:b,axisVisible:M}).min,K=U.max,Q=U.scale,ee=U.yAxisName,te=U.dataType,ie=U.metrics,ae=U.digit,{type:"value",show:U.axisVisible,scale:Q,min:X,max:K,axisTick:{show:!1},name:ee,axisLabel:{formatter:function(e){return r(e,te[ie[0]],ae)}}}),series:function(e){var t=e.rows,i=e.dataLabels,a=e.columns,n=e.metrics,r=e.dimension,o=e.label,s=e.itemStyle,l=e.symbol,c=e.symbolSizeMax,u=e.symbolSize,d=e.symbolRotate,m=e.symbolOffset,p=e.cursor,h=a.filter(function(e){return!~n.indexOf(e)&&e!==r}),f=[];i.forEach(function(e){t[e].forEach(function(e){f.push(e[n[1]])})});var v=Math.max.apply(null,f),b=[];return i.forEach(function(e){var i=[];t[e].forEach(function(e){var t={value:[]};t.value.push(e[r],e[n[0]],e[n[1]]),h.forEach(function(i){t.value.push(e[i])}),t.symbolSize=u||e[n[1]]/v*c,i.push(t)}),b.push({type:"scatter",data:i,name:e,label:o,itemStyle:s,symbol:l,symbolRotate:d,symbolOffset:m,cursor:p})}),b}({rows:t,dataLabels:oe,columns:e,metrics:l,dimension:o,label:z,itemStyle:H,symbol:L,symbolSizeMax:V,symbolSize:N,symbolRotate:T,symbolOffset:k,cursor:_})}},Lt={name:"VeScatter",mixins:[Ye],created:function(){this.chartHandler=Vt,this.echartsLib=e}},Nt=[5,10,20,30],Tt="日K",kt={show:!1};var _t=function(e,i,a,n){var o=a.dimension,s=void 0===o?e[0]:o,l=a.metrics,c=void 0===l?e.slice(1,6):l,u=a.digit,d=void 0===u?2:u,m=a.itemStyle,p=a.labelMap,h=void 0===p?{}:p,v=a.legendName,b=void 0===v?{}:v,y=a.MA,x=void 0===y?Nt:y,g=a.showMA,w=void 0!==g&&g,S=a.showVol,A=void 0!==S&&S,O=a.showDataZoom,M=void 0!==O&&O,j=a.downColor,V=void 0===j?"#ec0000":j,L=a.upColor,N=void 0===L?"#00da3c":L,T=a.start,k=void 0===T?50:T,_=a.end,E=void 0===_?100:_,C=a.dataType,R=n.tooltipVisible,z=n.legendVisible,H=f(i[0]),P=[],F=[],$=[],D=c.slice(0,4),q=c[4];H?i.forEach(function(t){var i=[];P.push(t[e.indexOf(s)]),D.forEach(function(a){i.push(t[e.indexOf(a)])}),F.push(i),q&&$.push(t[e.indexOf(q)])}):i.forEach(function(e,t){var i=[];if(P.push(e[s]),D.forEach(function(t){i.push(e[t])}),F.push(i),q){var a=e[c[0]]>e[c[1]]?1:-1;$.push([t,e[q],a])}});var G,I,B,W,Z,J,Y,U,X,K,Q,ee,te,ie,ae,ne,re,oe,se,le,ce,ue,de,me,pe,he,fe,ve,be,ye,xe,ge,we,Se,Ae,Oe,Me,je,Ve,Le=z&&(I=(G={showMA:w,MA:x,legendName:b,labelMap:h}).showMA,B=G.MA,W=G.legendName,Z=G.labelMap,J=[Tt],I&&(J=J.concat(B.map(function(e){return"MA"+e}))),Z&&(J=J.map(function(e){return null==Z[e]?e:Z[e]})),{data:J,formatter:function(e){return null!=W[e]?W[e]:e}}),Ne=R&&(U=(Y={metrics:c,dataType:C,digit:d,labelMap:h}).metrics,X=Y.dataType,K=Y.digit,Q=Y.labelMap,{trigger:"axis",axisPointer:{type:"cross"},position:function(e,t,i,a,n){var r={top:10};return r[e[0]<n.viewSize[0]/2?"right":"left"]=60,r},formatter:function(e){var i=[];return i.push(e[0].axisValue+"<br>"),e.forEach(function(e){var a=e.data,n=e.seriesName,o=e.componentSubType,s=e.color,l=null==Q[n]?n:Q[n];if(i.push(t(s)+" "+l+": "),"candlestick"===o)i.push("<br>"),U.slice(0,4).forEach(function(e,t){var n=r(a[t+1],X,K);i.push("- "+e+": "+n+"<br>")});else if("line"===o){var c=r(a,X,K);i.push(c+"<br>")}else if("bar"===o){var u=r(a[1],X,K);i.push(u+"<br>")}}),i.join("")}}),Te=A&&(te=(ee={downColor:V,upColor:N,MA:x,showMA:w}).downColor,ie=ee.upColor,ae=ee.MA,{show:!1,seriesIndex:ee.showMA?1+ae.length:1,dimension:2,pieces:[{value:1,color:te},{value:-1,color:ie}]}),ke=M&&(re=(ne={start:k,end:E}).start,oe=ne.end,[{type:"inside",xAxisIndex:[0,1],start:re,end:oe},{show:!0,xAxisIndex:[0,1],type:"slider",top:"85%",start:re,end:oe}]);return{legend:Le,tooltip:Ne,visualMap:Te,grid:[{left:"10%",right:"8%",top:"10%",height:{showVol:A}.showVol?"50%":"65%",containLabel:!1},{left:"10%",right:"8%",top:"65%",height:"16%",containLabel:!1}],xAxis:(se={dims:P}.dims,[{type:le="category",data:se,scale:!0,boundaryGap:!1,axisLine:ce={onZero:!1},splitLine:kt,min:ue="dataMin",max:de="dataMax"},{type:le,gridIndex:1,data:se,scale:!0,boundaryGap:!1,axisLine:ce,axisTick:kt,splitLine:kt,axisLabel:kt,min:ue,max:de}]),yAxis:(pe=(me={dataType:C,digit:d}).dataType,he=me.digit,[{scale:!0,axisTick:kt,axisLabel:{formatter:function(e){return r(e,pe,he)}}},{scale:!0,gridIndex:1,splitNumber:2,axisLine:kt,axisTick:kt,splitLine:kt,axisLabel:kt}]),dataZoom:ke,series:(ve=(fe={values:F,volumes:$,upColor:N,downColor:V,showMA:w,MA:x,showVol:A,labelMap:h,digit:d,itemStyle:m}).values,be=fe.volumes,ye=fe.upColor,xe=fe.downColor,ge=fe.showMA,we=fe.MA,Se=fe.showVol,Ae=fe.labelMap,Oe=fe.digit,Me=fe.itemStyle||{normal:{color:ye,color0:xe,borderColor:null,borderColor0:null}},je={normal:{opacity:.5}},Ve=[{name:null==Ae[Tt]?Tt:Ae[Tt],type:"candlestick",data:ve,itemStyle:Me}],ge&&we.forEach(function(e){var t,i,a,n,r="MA"+e;Ve.push({name:null==Ae[r]?r:Ae[r],data:(t=e,i=ve,a=Oe,n=[],i.forEach(function(e,r){if(r<t)n.push("-");else{for(var o=0,s=0;s<t;s++)o+=i[r-s][1];n.push(+(o/t).toFixed(a))}}),n),type:"line",lineStyle:je,smooth:!0})}),Se&&Ve.push({name:"Volume",type:"bar",xAxisIndex:1,yAxisIndex:1,data:be}),Ve),axisPointer:{link:{xAxisIndex:"all"}}}},Et={name:"VeCandle",mixins:[Ye],created:function(){this.chartHandler=_t,this.echartsLib=e}};var Ct=function(e,t,i,a){var n,o,s,l,c,u,d,m,p,h,f,b,y,x=i.dimension,g=void 0===x?e[0]:x,w=i.metrics,S=void 0===w?e[1]:w,A=i.digit,O=void 0===A?2:A,M=i.dataType,j=void 0===M?{}:M,V=i.labelMap,L=void 0===V?{}:V,N=i.seriesMap,T=void 0===N?{}:N,k=i.dataName,_=void 0===k?{}:k,E=a.tooltipFormatter;return{tooltip:a.tooltipVisible&&(o=(n={tooltipFormatter:E,dataType:j}).tooltipFormatter,s=n.dataType,l=n.digit,{formatter:function(e){var t=e.seriesName,i=e.data,a=i.value,n=i.name;if(o)return o.apply(null,arguments);var c=[];return c.push(t+": "),c.push(r(a,s[t],l)+" "+n),c.join("")}}),series:(u=(c={rows:t,dimension:g,metrics:S,digit:O,dataType:j,labelMap:L,seriesMap:T,dataName:_}).rows,d=c.dimension,m=c.metrics,p=c.digit,h=c.dataType,f=c.labelMap,b=c.seriesMap,y=c.dataName,u.map(function(e){var t=e[d],i=b[t],a={type:"gauge",name:null!=f[t]?f[t]:t,data:[{name:y[t]||"",value:e[m]}],detail:{formatter:function(e){return r(e,h[t],p)}},axisLabel:{formatter:function(e){return r(e,h[t],p)}}};return i&&Object.keys(i).forEach(function(e){v(a[e])?ze(a[e],i[e]):a[e]=i[e]}),a}))}},Rt={name:"VeGauge",mixins:[Ye],created:function(){this.chartHandler=Ct,this.echartsLib=e}};var zt=function(e,t,i,a){var n,r,o,s,l,c,u,d,m=i.dimension,p=void 0===m?e[0]:m,h=i.metrics,f=void 0===h?e[1]:h,b=i.seriesMap,y=void 0===b?{}:b,x=a.legendVisible,g=a.tooltipFormatter,w=a.tooltipVisible;return{series:(r=(n={dimension:p,metrics:f,rows:t,seriesMap:y}).dimension,o=n.metrics,s=n.rows,l=n.seriesMap,c=[],s.forEach(function(e){var t=e[r],i=l[t],a={type:"tree",name:e[r],data:e[o]};l[e[r]]&&Object.keys(i).forEach(function(e){v(a[e])?ze(a[e],i[e]):a[e]=i[e]}),c.push(a)}),c),legend:x&&t.length>1&&(d=(u={dimension:p,rows:t}).dimension,{data:u.rows.map(function(e){return e[d]})}),tooltip:w&&{trigger:"item",triggerOn:"mousemove",formatter:{tooltipFormatter:g}.tooltipFormatter}}},Ht={name:"VeTree",mixins:[Ye],created:function(){this.chartHandler=zt,this.echartsLib=e}},Pt=[Ue,Xe,Qe,nt,rt,st,ct,dt,mt,ft,bt,xt,wt,{name:"VeHeatmap",mixins:[Ye],created:function(){this.chartHandler=Mt,this.echartsLib=e}},Lt,Et,Rt,Ht];function Ft(e,t){Pt.forEach(function(t){e.component(t.name,t)})}return"undefined"!=typeof window&&window.Vue&&Ft(window.Vue),{VeBar:Ue,VeHistogram:Xe,VeRing:rt,VeLine:Qe,VePie:nt,VeWaterfall:st,VeFunnel:ct,VeRadar:dt,VeChart:mt,VeMap:ft,VeBmap:bt,VeAmap:xt,VeSankey:wt,VeScatter:Lt,VeCandle:Et,VeGauge:Rt,VeTree:Ht,install:Ft}});
