import './app.css'
import { Printd } from '../src'

const d = new Printd()
const btn = document.getElementById('btn')

btn.addEventListener(
  'click',
  () => {
    d.print(document.getElementById('app'))
  },
  false
)

const { contentWindow } = d.getIFrame()

contentWindow.addEventListener('beforeprint', () => console.log('before print!'))
contentWindow.addEventListener('afterprint', () => console.log('after print!'))

if (contentWindow.matchMedia) {
  const mediaQueryList = contentWindow.matchMedia('print')
  mediaQueryList.addListener((mql) => {
    if (mql.matches) {
      console.log('before print!')
    } else {
      console.log('after print!')
    }
  })
}
