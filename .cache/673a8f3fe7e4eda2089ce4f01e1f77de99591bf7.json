{"metadata":{},"options":{"plugins":[{"key":"/home/vy/Desktop/B.A.D/bad-system/node_modules/babel-plugin-transform-vue-jsx/index.js","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"Program":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"base$0$3","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/vy/Desktop/B.A.D/bad-system/imports/modules/school/client/pages/RegisterInsertOld.vue","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","jsx","dynamicImport",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"/home/vy/Desktop/B.A.D/bad-system/imports/modules/school/client/pages/RegisterInsertOld.vue","filename":"/home/vy/Desktop/B.A.D/bad-system/imports/modules/school/client/pages/RegisterInsertOld.vue","passPerPreset":false,"envName":"development","cwd":"/home/vy/Desktop/B.A.D/bad-system","root":"/home/vy/Desktop/B.A.D/bad-system","generatorOpts":{"filename":"/home/vy/Desktop/B.A.D/bad-system/imports/modules/school/client/pages/RegisterInsertOld.vue","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"/home/vy/Desktop/B.A.D/bad-system/imports/modules/school/client/pages/RegisterInsertOld.vue"}},"code":"var _;\n\nmodule.link(\"lodash\", {\n  \"default\": function (v) {\n    _ = v;\n  }\n}, 0);\nvar Notify;\nmodule.link(\"/imports/client/lib/notify\", {\n  \"default\": function (v) {\n    Notify = v;\n  }\n}, 1);\nvar Msg;\nmodule.link(\"/imports/client/lib/message\", {\n  \"default\": function (v) {\n    Msg = v;\n  }\n}, 2);\nvar wrapCurrentTime;\nmodule.link(\"/imports/client/lib/wrap-current-time\", {\n  \"default\": function (v) {\n    wrapCurrentTime = v;\n  }\n}, 3);\nvar moment;\nmodule.link(\"moment\", {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 4);\nvar Lookup;\nmodule.link(\"/imports/client/lib/Lookup-Value\", {\n  \"default\": function (v) {\n    Lookup = v;\n  }\n}, 5);\nvar lookupClass, lookupStudent, lookupStudentForExpire;\nmodule.link(\"/imports/utils/lookup-methods\", {\n  lookupClass: function (v) {\n    lookupClass = v;\n  },\n  lookupStudent: function (v) {\n    lookupStudent = v;\n  },\n  lookupStudentForExpire: function (v) {\n    lookupStudentForExpire = v;\n  }\n}, 6);\nvar insertPayementForNew, findPaymentForClass;\nmodule.link(\"/imports/modules/school/api/payment/methods\", {\n  insertPayementForNew: function (v) {\n    insertPayementForNew = v;\n  },\n  findPaymentForClass: function (v) {\n    findPaymentForClass = v;\n  }\n}, 7);\n\nvar numeral = require('numeral');\n\nmodule.exportDefault({\n  // name: 'RegisterInsert',\n  props: {\n    visible: {\n      type: Boolean,\n      \"default\": false\n    }\n  },\n  data: function () {\n    return {\n      loading: false,\n      checkRadio: 'New',\n      typeOpts: Lookup.type,\n      classIdOpts: [],\n      genderOpts: Lookup.gender,\n      studentIdOpts: [],\n      listExpireStudent: [],\n      remaining: 0,\n      form: {\n        type: '',\n        classId: '',\n        rsDate: moment().toDate(),\n        studentId: '',\n        payDate: moment().toDate(),\n        duration: 0,\n        totalPay: 0,\n        usd: 0,\n        discountVal: 0,\n        khr: 0,\n        remaining: 0,\n        status: 'Paid'\n      },\n      rules: {\n        rsDate: [{\n          required: true,\n          message: 'Date is Required',\n          trigger: 'change'\n        }],\n        type: [{\n          required: true,\n          message: 'Type is Required',\n          trigger: 'change'\n        }],\n        classId: [{\n          required: true,\n          message: 'Class is Required',\n          trigger: 'change'\n        }],\n        studentId: [{\n          required: true,\n          message: 'Student ID is required',\n          trigger: 'change'\n        }],\n        payDate: [{\n          required: true,\n          message: 'Date is Required',\n          trigger: 'change'\n        }],\n        duration: [{\n          required: true,\n          message: 'Duration is required'\n        }, {\n          type: 'number',\n          message: 'Duration must be a number'\n        }],\n        usd: [{\n          required: true,\n          message: 'Total is required'\n        }],\n        khr: [{\n          required: true,\n          message: 'Total is required'\n        }],\n        totalPay: [{\n          required: true,\n          message: 'Total must be a number'\n        }]\n      }\n    };\n  },\n  // watch: {\n  //   'form.usd'(val) {\n  //     this.remaining = val\n  //   },\n  //   'form.discountVal'(val) {\n  //     this.remaining = this.form.usd - val\n  //     this.form.remaining = this.form.usd - val\n  //     if (this.remaining < 0) {\n  //       Notify.warning({\n  //         message: 'Discount Balance is bigger than Total balance',\n  //       })\n  //       this.form.khr = 0\n  //     }\n  //   },\n  //   'form.khr'(val) {\n  //     this.remaining = this.form.usd - this.form.discountVal - val\n  //     this.form.remaining = this.form.usd - this.form.discountVal - val\n  //     if (this.remaining < 0) {\n  //       Notify.warning({ message: 'khr Balance is bigger than Total balance' })\n  //       this.form.khr = 0\n  //     }\n  //   },\n  // },\n  mounted: function () {\n    this.getStudentData();\n  },\n  methods: {\n    handleTypeChange: function (val) {\n      var _this = this;\n\n      if (val.length > 0) {\n        var selector = {\n          type: val\n        };\n        lookupClass.callPromise({\n          selector: selector\n        }).then(function (result) {\n          _this.classIdOpts = result;\n        }).catch(function (error) {\n          Notify.error({\n            message: error\n          });\n        });\n      } else {\n        this.form.classId = '';\n        this.classIdOpts = [];\n      }\n    },\n    getStudentData: function () {\n      var _this2 = this;\n\n      lookupStudentForExpire.callPromise({}).then(function (result) {\n        _this2.studentIdOpts = result;\n      }).catch(function (error) {\n        Notify.error({\n          message: error\n        });\n      });\n    },\n    handleRadioChange: function (val) {\n      var _this3 = this;\n\n      this.listExpireStudent = [];\n\n      if (val === 'Old') {\n        var selector = {\n          // classId: this.form.classId,\n          status: {\n            $in: ['Expires', '$classDetail']\n          }\n        };\n        this.loading = true;\n        findPaymentForClass.callPromise({\n          selector: selector\n        }).then(function (result) {\n          if (result.length > 0) {\n            _.forEach(result[0].classDetail, function (o) {\n              _this3.listExpireStudent.push({\n                value: o.studentId,\n                label: o.studentId + ' - ' + o.student\n              });\n            });\n\n            _this3.studentIdOpts = _this3.listExpireStudent;\n          } else {\n            _this3.studentIdOpts = [];\n          }\n\n          _this3.loading = false;\n        }).catch(function (error) {\n          Notify.error({\n            message: error.reason\n          });\n        });\n      } else if (val === 'New') {\n        this.getStudentData();\n      }\n    },\n    handleSave: function () {\n      var _this4 = this;\n\n      this.$refs['form'].validate(function (valid) {\n        if (valid) {\n          _this4.form.rsDate = wrapCurrentTime(_this4.form.rsDate);\n          _this4.form.dob = wrapCurrentTime(_this4.form.dob);\n          _this4.form.tranDate = wrapCurrentTime(moment().toDate());\n          _this4.form.payDate = wrapCurrentTime(_this4.form.payDate);\n          _this4.form.endPayDate = wrapCurrentTime(moment(_this4.form.payDate).add(_this4.form.duration, 'months'));\n\n          if (_this4.form.remaining != 0) {\n            _this4.form.status = 'Debt';\n          }\n\n          var doc = {\n            tranDate: _this4.form.tranDate,\n            classId: _this4.form.classId,\n            studentId: _this4.form.studentId,\n            payDate: _this4.form.payDate,\n            duration: _this4.form.duration,\n            endPayDate: _this4.form.endPayDate,\n            usd: _this4.form.usd,\n            discountVal: _this4.form.discountVal,\n            totalPay: _this4.form.totalPay,\n            khr: _this4.form.khr,\n            remaining: _this4.form.remaining,\n            status: _this4.form.status,\n            type: _this4.form.type\n          };\n          insertPayementForNew.callPromise({\n            doc: doc\n          }).then(function (result) {\n            Msg.success();\n\n            _this4.resetForm();\n          }).catch(function (error) {\n            Notify.error({\n              message: error\n            });\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    remoteMethod: function (query) {\n      var _this5 = this;\n\n      if (query !== '') {\n        this.loading = true;\n        setTimeout(function () {\n          _this5.loading = false;\n          lookupStudentForExpire.callPromise({}).then(function (result) {\n            console.log(result);\n            _this5.studentIdOpts = result.filter(function (item) {\n              return item.label.toLowerCase().indexOf(query.toLowerCase()) > -1;\n            });\n          }).catch(function (error) {\n            Notify.error({\n              message: error.reason\n            });\n          });\n        }, 200);\n      } else {\n        this.loading = true;\n        lookupStudentForExpire.callPromise({}).then(function (result) {\n          _this5.studentIdOpts = result;\n          _this5.loading = false;\n        }).catch(function (err) {\n          Notify.error({\n            message: err.reason\n          });\n        });\n      }\n    },\n    handleClose: function () {\n      this.$emit('modal-close');\n    },\n    resetForm: function () {\n      this.$refs['form'].resetFields();\n      this.classIdOpts = [];\n    },\n    formatNumer: function (val) {\n      return numeral(val).format('0,0.00 $');\n    }\n  }\n});","map":{"version":3,"sources":["/home/vy/Desktop/B.A.D/bad-system/imports/modules/school/client/pages/RegisterInsertOld.vue"],"names":["_","module","link","v","Notify","Msg","wrapCurrentTime","moment","Lookup","lookupClass","lookupStudent","lookupStudentForExpire","insertPayementForNew","findPaymentForClass","numeral","require","exportDefault","props","visible","type","Boolean","data","loading","checkRadio","typeOpts","classIdOpts","genderOpts","gender","studentIdOpts","listExpireStudent","remaining","form","classId","rsDate","toDate","studentId","payDate","duration","totalPay","usd","discountVal","khr","status","rules","required","message","trigger","mounted","getStudentData","methods","handleTypeChange","val","length","selector","callPromise","then","result","catch","error","handleRadioChange","$in","forEach","classDetail","o","push","value","label","student","reason","handleSave","$refs","validate","valid","dob","tranDate","endPayDate","add","doc","success","resetForm","remoteMethod","query","setTimeout","console","log","filter","item","toLowerCase","indexOf","err","handleClose","$emit","resetFields","formatNumer","format"],"mappings":"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","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport _ from 'lodash'\nimport Notify from '/imports/client/lib/notify'\nimport Msg from '/imports/client/lib/message'\nimport wrapCurrentTime from '/imports/client/lib/wrap-current-time'\nimport moment from 'moment'\nimport Lookup from '/imports/client/lib/Lookup-Value'\nimport {\n  lookupClass,\n  lookupStudent,\n  lookupStudentForExpire,\n} from '/imports/utils/lookup-methods'\nimport {\n  insertPayementForNew,\n  findPaymentForClass,\n} from '/imports/modules/school/api/payment/methods'\n\nconst numeral = require('numeral')\nexport default {\n  // name: 'RegisterInsert',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      loading: false,\n      checkRadio: 'New',\n      typeOpts: Lookup.type,\n      classIdOpts: [],\n      genderOpts: Lookup.gender,\n      studentIdOpts: [],\n      listExpireStudent: [],\n      remaining: 0,\n      form: {\n        type: '',\n        classId: '',\n        rsDate: moment().toDate(),\n        studentId: '',\n        payDate: moment().toDate(),\n        duration: 0,\n        totalPay: 0,\n        usd: 0,\n        discountVal: 0,\n        khr: 0,\n        remaining: 0,\n        status: 'Paid',\n      },\n      rules: {\n        rsDate: [\n          { required: true, message: 'Date is Required', trigger: 'change' },\n        ],\n        type: [\n          { required: true, message: 'Type is Required', trigger: 'change' },\n        ],\n        classId: [\n          { required: true, message: 'Class is Required', trigger: 'change' },\n        ],\n        studentId: [\n          {\n            required: true,\n            message: 'Student ID is required',\n            trigger: 'change',\n          },\n        ],\n        payDate: [\n          { required: true, message: 'Date is Required', trigger: 'change' },\n        ],\n        duration: [\n          { required: true, message: 'Duration is required' },\n          { type: 'number', message: 'Duration must be a number' },\n        ],\n        usd: [{ required: true, message: 'Total is required' }],\n        khr: [{ required: true, message: 'Total is required' }],\n        totalPay: [{ required: true, message: 'Total must be a number' }],\n      },\n    }\n  },\n  // watch: {\n  //   'form.usd'(val) {\n  //     this.remaining = val\n  //   },\n  //   'form.discountVal'(val) {\n  //     this.remaining = this.form.usd - val\n  //     this.form.remaining = this.form.usd - val\n  //     if (this.remaining < 0) {\n  //       Notify.warning({\n  //         message: 'Discount Balance is bigger than Total balance',\n  //       })\n  //       this.form.khr = 0\n  //     }\n  //   },\n  //   'form.khr'(val) {\n  //     this.remaining = this.form.usd - this.form.discountVal - val\n  //     this.form.remaining = this.form.usd - this.form.discountVal - val\n  //     if (this.remaining < 0) {\n  //       Notify.warning({ message: 'khr Balance is bigger than Total balance' })\n  //       this.form.khr = 0\n  //     }\n  //   },\n  // },\n  mounted() {\n    this.getStudentData()\n  },\n  methods: {\n    handleTypeChange(val) {\n      if (val.length > 0) {\n        let selector = {\n          type: val,\n        }\n        lookupClass\n          .callPromise({ selector })\n          .then(result => {\n            this.classIdOpts = result\n          })\n          .catch(error => {\n            Notify.error({ message: error })\n          })\n      } else {\n        this.form.classId = ''\n        this.classIdOpts = []\n      }\n    },\n    getStudentData() {\n      lookupStudentForExpire\n        .callPromise({})\n        .then(result => {\n          this.studentIdOpts = result\n        })\n        .catch(error => {\n          Notify.error({ message: error })\n        })\n    },\n    handleRadioChange(val) {\n      this.listExpireStudent = []\n      if (val === 'Old') {\n        let selector = {\n          // classId: this.form.classId,\n          status: { $in: ['Expires', '$classDetail'] },\n        }\n        this.loading = true\n        findPaymentForClass\n          .callPromise({ selector: selector })\n          .then(result => {\n            if (result.length > 0) {\n              _.forEach(result[0].classDetail, o => {\n                this.listExpireStudent.push({\n                  value: o.studentId,\n                  label: o.studentId + ' - ' + o.student,\n                })\n              })\n              this.studentIdOpts = this.listExpireStudent\n            } else {\n              this.studentIdOpts = []\n            }\n            this.loading = false\n          })\n          .catch(error => {\n            Notify.error({ message: error.reason })\n          })\n      } else if (val === 'New') {\n        this.getStudentData()\n      }\n    },\n    handleSave() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          this.form.rsDate = wrapCurrentTime(this.form.rsDate)\n          this.form.dob = wrapCurrentTime(this.form.dob)\n          this.form.tranDate = wrapCurrentTime(moment().toDate())\n          this.form.payDate = wrapCurrentTime(this.form.payDate)\n          this.form.endPayDate = wrapCurrentTime(\n            moment(this.form.payDate).add(this.form.duration, 'months')\n          )\n          if (this.form.remaining != 0) {\n            this.form.status = 'Debt'\n          }\n          let doc = {\n            tranDate: this.form.tranDate,\n            classId: this.form.classId,\n            studentId: this.form.studentId,\n            payDate: this.form.payDate,\n            duration: this.form.duration,\n            endPayDate: this.form.endPayDate,\n            usd: this.form.usd,\n            discountVal: this.form.discountVal,\n            totalPay: this.form.totalPay,\n            khr: this.form.khr,\n            remaining: this.form.remaining,\n            status: this.form.status,\n            type: this.form.type,\n          }\n\n          insertPayementForNew\n            .callPromise({ doc: doc })\n            .then(result => {\n              Msg.success()\n              this.resetForm()\n            })\n            .catch(error => {\n              Notify.error({ message: error })\n            })\n        } else {\n          return false\n        }\n      })\n    },\n    remoteMethod(query) {\n      if (query !== '') {\n        this.loading = true\n        setTimeout(() => {\n          this.loading = false\n          lookupStudentForExpire\n            .callPromise({})\n            .then(result => {\n              console.log(result)\n              this.studentIdOpts = result.filter(item => {\n                return (\n                  item.label.toLowerCase().indexOf(query.toLowerCase()) > -1\n                )\n              })\n            })\n            .catch(error => {\n              Notify.error({ message: error.reason })\n            })\n        }, 200)\n      } else {\n        this.loading = true\n        lookupStudentForExpire\n          .callPromise({})\n          .then(result => {\n            this.studentIdOpts = result\n            this.loading = false\n          })\n          .catch(err => {\n            Notify.error({ message: err.reason })\n          })\n      }\n    },\n    handleClose() {\n      this.$emit('modal-close')\n    },\n    resetForm() {\n      this.$refs['form'].resetFields()\n      this.classIdOpts = []\n    },\n    formatNumer(val) {\n      return numeral(val).format('0,0.00 $')\n    },\n  },\n}\n"]},"sourceType":"script","hash":"673a8f3fe7e4eda2089ce4f01e1f77de99591bf7"}
