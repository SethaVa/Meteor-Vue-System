{"metadata":{},"options":{"plugins":[{"key":"/home/vy/Desktop/B.A.D/bad-system/node_modules/babel-plugin-transform-vue-jsx/index.js","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"Program":{"enter":[null]}},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"base$0$3","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/vy/Desktop/B.A.D/bad-system/imports/client/pages/Branch.vue","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","jsx","dynamicImport",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"/home/vy/Desktop/B.A.D/bad-system/imports/client/pages/Branch.vue","filename":"/home/vy/Desktop/B.A.D/bad-system/imports/client/pages/Branch.vue","passPerPreset":false,"envName":"development","cwd":"/home/vy/Desktop/B.A.D/bad-system","root":"/home/vy/Desktop/B.A.D/bad-system","generatorOpts":{"filename":"/home/vy/Desktop/B.A.D/bad-system/imports/client/pages/Branch.vue","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"/home/vy/Desktop/B.A.D/bad-system/imports/client/pages/Branch.vue"}},"code":"var Msg;\nmodule.link(\"/imports/client/lib/message\", {\n  \"default\": function (v) {\n    Msg = v;\n  }\n}, 0);\nvar Notify;\nmodule.link(\"/imports/client/lib/notify\", {\n  \"default\": function (v) {\n    Notify = v;\n  }\n}, 1);\nvar removeMixin;\nmodule.link(\"/imports/client/mixins/remove\", {\n  \"default\": function (v) {\n    removeMixin = v;\n  }\n}, 2);\nvar TableToolbar;\nmodule.link(\"/imports/client/components/TableToolbar.vue\", {\n  \"default\": function (v) {\n    TableToolbar = v;\n  }\n}, 3);\nvar TableAction;\nmodule.link(\"/imports/client/components/TableAction.vue\", {\n  \"default\": function (v) {\n    TableAction = v;\n  }\n}, 4);\nvar findBranches, removeBranch;\nmodule.link(\"../../api/branches/methods\", {\n  findBranches: function (v) {\n    findBranches = v;\n  },\n  removeBranch: function (v) {\n    removeBranch = v;\n  }\n}, 5);\nvar branchNew;\nmodule.link(\"./BranchNew\", {\n  \"default\": function (v) {\n    branchNew = v;\n  }\n}, 6);\nvar branchEdit;\nmodule.link(\"./BranchEdit\", {\n  \"default\": function (v) {\n    branchEdit = v;\n  }\n}, 7);\nmodule.exportDefault({\n  name: 'Branch',\n  components: {\n    TableToolbar: TableToolbar,\n    TableAction: TableAction,\n    branchNew: branchNew,\n    branchEdit: branchEdit\n  },\n  mixins: [removeMixin],\n  data: function () {\n    return {\n      loading: false,\n      tableData: [],\n      tableTitles: [{\n        label: 'ID',\n        prop: '_id'\n      }, {\n        label: 'Name',\n        prop: 'name'\n      }, {\n        label: 'Short Name',\n        prop: 'shortName'\n      }, {\n        label: 'Address',\n        prop: 'address'\n      }, {\n        label: 'Telephone',\n        prop: 'telephone'\n      }, {\n        label: 'Email',\n        prop: 'email'\n      }],\n      tableProps: {\n        size: 'mini',\n        border: false,\n        stripe: false,\n        defaultSort: {\n          prop: '_id',\n          order: 'ascending'\n        }\n      },\n      tableFilters: [{\n        prop: ['_id', 'name', 'shortName'],\n        value: ''\n      }],\n      // Modal\n      currentModal: null,\n      modalVisible: false,\n      updateDoc: null\n    };\n  },\n  computed: {\n    userIsInRole: function () {\n      return this.$store.getters['userIsInRole'](['super']);\n    }\n  },\n  created: function () {// Extend data tables props (Mixin)\n    // this.tableProps.defaultSort = {\n    //   prop: '_id',\n    //   order: 'ascending',\n    // }\n  },\n  mounted: function () {\n    this.getData();\n  },\n  methods: {\n    getData: function () {\n      var _this = this;\n\n      this.loading = true;\n      findBranches.callPromise({}).then(function (result) {\n        _this.tableData = result;\n        _this.loading = false;\n      }).catch(function (error) {\n        _this.loading = false;\n        Notify.error({\n          message: error\n        });\n      });\n    },\n    // Add new\n    addNew: function () {\n      var _this2 = this;\n\n      this.currentModal = branchNew;\n      this.$nextTick(function () {\n        _this2.modalVisible = true;\n      });\n    },\n    // Toble Formatter\n    softRemoveClassName: function (removed) {\n      return removed ? 'soft-remove' : '';\n    },\n    // Table Action\n    actionsList: function (row) {\n      var actions = ['edit'];\n\n      if (row.removed) {// actions.push('restore')\n        // actions.push('remove')\n      } else {\n        // actions.push('softRemove')\n        actions.push('remove');\n      }\n\n      return actions;\n    },\n    tableActionClick: function (command) {\n      this[command.action](command.row);\n    },\n    edit: function (row) {\n      var _this3 = this;\n\n      this.updateDoc = row;\n      this.currentModal = branchEdit;\n      this.$nextTick(function () {\n        _this3.modalVisible = true;\n      });\n    },\n    // softRemove(row) {\n    //   this.$_softRemoveMixin({\n    //     meteorMethod: softRemoveBranch,\n    //     selector: { _id: row._id },\n    //     successMethod: 'getData',\n    //     loading: 'loading',\n    //     title: row.title,\n    //   })\n    // },\n    // restore(row) {\n    //   this.$_restoreMixin({\n    //     meteorMethod: restoreBranch,\n    //     selector: { _id: row._id },\n    //     successMethod: 'getData',\n    //     loading: 'loading',\n    //     title: row.title,\n    //   })\n    // },\n    remove: function (row) {\n      this.$_removeMixin({\n        meteorMethod: removeBranch,\n        selector: {\n          _id: row._id\n        },\n        successMethod: 'getData',\n        loading: 'loading',\n        title: row.title\n      });\n    },\n    handleModalClose: function () {\n      var _this4 = this;\n\n      this.modalVisible = false;\n      this.$nextTick(function () {\n        _this4.currentModal = null;\n\n        _this4.getData();\n      });\n    }\n  }\n});","map":{"version":3,"sources":["/home/vy/Desktop/B.A.D/bad-system/imports/client/pages/Branch.vue"],"names":["Msg","module","link","v","Notify","removeMixin","TableToolbar","TableAction","findBranches","removeBranch","branchNew","branchEdit","exportDefault","name","components","mixins","data","loading","tableData","tableTitles","label","prop","tableProps","size","border","stripe","defaultSort","order","tableFilters","value","currentModal","modalVisible","updateDoc","computed","userIsInRole","$store","getters","created","mounted","getData","methods","callPromise","then","result","catch","error","message","addNew","$nextTick","softRemoveClassName","removed","actionsList","row","actions","push","tableActionClick","command","action","edit","remove","$_removeMixin","meteorMethod","selector","_id","successMethod","title","handleModalClose"],"mappings":"AAAA,IAAIA,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,6BAAZ,EAA0C;AAAA,uBAASC,CAAT,EAAW;AAACH,IAAAA,GAAG,GAACG,CAAJ;AAAM;AAAlB,CAA1C,EAA8D,CAA9D;AAAiE,IAAIC,MAAJ;AAAWH,MAAM,CAACC,IAAP,CAAY,4BAAZ,EAAyC;AAAA,uBAASC,CAAT,EAAW;AAACC,IAAAA,MAAM,GAACD,CAAP;AAAS;AAArB,CAAzC,EAAgE,CAAhE;AAAmE,IAAIE,WAAJ;AAAgBJ,MAAM,CAACC,IAAP,CAAY,+BAAZ,EAA4C;AAAA,uBAASC,CAAT,EAAW;AAACE,IAAAA,WAAW,GAACF,CAAZ;AAAc;AAA1B,CAA5C,EAAwE,CAAxE;AAA2E,IAAIG,YAAJ;AAAiBL,MAAM,CAACC,IAAP,CAAY,6CAAZ,EAA0D;AAAA,uBAASC,CAAT,EAAW;AAACG,IAAAA,YAAY,GAACH,CAAb;AAAe;AAA3B,CAA1D,EAAuF,CAAvF;AAA0F,IAAII,WAAJ;AAAgBN,MAAM,CAACC,IAAP,CAAY,4CAAZ,EAAyD;AAAA,uBAASC,CAAT,EAAW;AAACI,IAAAA,WAAW,GAACJ,CAAZ;AAAc;AAA1B,CAAzD,EAAqF,CAArF;AAAwF,IAAIK,YAAJ,EAAiBC,YAAjB;AAA8BR,MAAM,CAACC,IAAP,CAAY,4BAAZ,EAAyC;AAACM,EAAAA,YAAD,YAAcL,CAAd,EAAgB;AAACK,IAAAA,YAAY,GAACL,CAAb;AAAe,GAAhC;AAAiCM,EAAAA,YAAjC,YAA8CN,CAA9C,EAAgD;AAACM,IAAAA,YAAY,GAACN,CAAb;AAAe;AAAhE,CAAzC,EAA2G,CAA3G;AAA8G,IAAIO,SAAJ;AAAcT,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAA,uBAASC,CAAT,EAAW;AAACO,IAAAA,SAAS,GAACP,CAAV;AAAY;AAAxB,CAA1B,EAAoD,CAApD;AAAuD,IAAIQ,UAAJ;AAAeV,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAAA,uBAASC,CAAT,EAAW;AAACQ,IAAAA,UAAU,GAACR,CAAX;AAAa;AAAzB,CAA3B,EAAsD,CAAtD;AAArqBF,MAAM,CAACW,aAAP,CAqFe;AACbC,EAAAA,IAAI,EAAE,QADO;AAEbC,EAAAA,UAAU,EAAE;AAAER,IAAAA,YAAY,EAAZA,YAAF;AAAgBC,IAAAA,WAAW,EAAXA,WAAhB;AAA6BG,IAAAA,SAAS,EAATA,SAA7B;AAAwCC,IAAAA,UAAU,EAAVA;AAAxC,GAFC;AAGbI,EAAAA,MAAM,EAAE,CAACV,WAAD,CAHK;AAIbW,EAAAA,IAJa,cAIN;AACL,WAAO;AACLC,MAAAA,OAAO,EAAE,KADJ;AAELC,MAAAA,SAAS,EAAE,EAFN;AAGLC,MAAAA,WAAW,EAAE,CACX;AAAEC,QAAAA,KAAK,EAAE,IAAT;AAAeC,QAAAA,IAAI,EAAE;AAArB,OADW,EAEX;AAAED,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,IAAI,EAAE;AAAvB,OAFW,EAGX;AAAED,QAAAA,KAAK,EAAE,YAAT;AAAuBC,QAAAA,IAAI,EAAE;AAA7B,OAHW,EAIX;AAAED,QAAAA,KAAK,EAAE,SAAT;AAAoBC,QAAAA,IAAI,EAAE;AAA1B,OAJW,EAKX;AAAED,QAAAA,KAAK,EAAE,WAAT;AAAsBC,QAAAA,IAAI,EAAE;AAA5B,OALW,EAMX;AAAED,QAAAA,KAAK,EAAE,OAAT;AAAkBC,QAAAA,IAAI,EAAE;AAAxB,OANW,CAHR;AAWLC,MAAAA,UAAU,EAAE;AACVC,QAAAA,IAAI,EAAE,MADI;AAEVC,QAAAA,MAAM,EAAE,KAFE;AAGVC,QAAAA,MAAM,EAAE,KAHE;AAIVC,QAAAA,WAAW,EAAE;AACXL,UAAAA,IAAI,EAAE,KADK;AAEXM,UAAAA,KAAK,EAAE;AAFI;AAJH,OAXP;AAoBLC,MAAAA,YAAY,EAAE,CACZ;AACEP,QAAAA,IAAI,EAAE,CAAC,KAAD,EAAQ,MAAR,EAAgB,WAAhB,CADR;AAEEQ,QAAAA,KAAK,EAAE;AAFT,OADY,CApBT;AA0BL;AACAC,MAAAA,YAAY,EAAE,IA3BT;AA4BLC,MAAAA,YAAY,EAAE,KA5BT;AA6BLC,MAAAA,SAAS,EAAE;AA7BN,KAAP;AA+BD,GApCY;AAqCbC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,YADQ,cACO;AACb,aAAO,KAAKC,MAAL,CAAYC,OAAZ,CAAoB,cAApB,EAAoC,CAAC,OAAD,CAApC,CAAP;AACD;AAHO,GArCG;AA0CbC,EAAAA,OA1Ca,cA0CH,CACR;AACA;AACA;AACA;AACA;AACD,GAhDY;AAiDbC,EAAAA,OAjDa,cAiDH;AACR,SAAKC,OAAL;AACD,GAnDY;AAoDbC,EAAAA,OAAO,EAAE;AACPD,IAAAA,OADO,cACG;AAAA;;AACR,WAAKtB,OAAL,GAAe,IAAf;AACAT,MAAAA,YAAY,CACTiC,WADH,CACe,EADf,EAEGC,IAFH,CAEQ,UAAAC,MAAM,EAAI;AACd,QAAA,KAAI,CAACzB,SAAL,GAAiByB,MAAjB;AACA,QAAA,KAAI,CAAC1B,OAAL,GAAe,KAAf;AACD,OALH,EAMG2B,KANH,CAMS,UAAAC,KAAK,EAAI;AACd,QAAA,KAAI,CAAC5B,OAAL,GAAe,KAAf;AACAb,QAAAA,MAAM,CAACyC,KAAP,CAAa;AAAEC,UAAAA,OAAO,EAAED;AAAX,SAAb;AACD,OATH;AAUD,KAbM;AAcP;AACAE,IAAAA,MAfO,cAeE;AAAA;;AACP,WAAKjB,YAAL,GAAoBpB,SAApB;AACA,WAAKsC,SAAL,CAAe,YAAM;AACnB,QAAA,MAAI,CAACjB,YAAL,GAAoB,IAApB;AACD,OAFD;AAGD,KApBM;AAsBP;AACAkB,IAAAA,mBAvBO,YAuBaC,OAvBb,EAuBsB;AAC3B,aAAOA,OAAO,GAAG,aAAH,GAAmB,EAAjC;AACD,KAzBM;AA2BP;AACAC,IAAAA,WA5BO,YA4BKC,GA5BL,EA4BU;AACf,UAAIC,OAAO,GAAG,CAAC,MAAD,CAAd;;AACA,UAAID,GAAG,CAACF,OAAR,EAAiB,CACf;AACA;AACD,OAHD,MAGO;AACL;AACAG,QAAAA,OAAO,CAACC,IAAR,CAAa,QAAb;AACD;;AAED,aAAOD,OAAP;AACD,KAvCM;AAwCPE,IAAAA,gBAxCO,YAwCUC,OAxCV,EAwCmB;AACxB,WAAKA,OAAO,CAACC,MAAb,EAAqBD,OAAO,CAACJ,GAA7B;AACD,KA1CM;AA2CPM,IAAAA,IA3CO,YA2CFN,GA3CE,EA2CG;AAAA;;AACR,WAAKpB,SAAL,GAAiBoB,GAAjB;AACA,WAAKtB,YAAL,GAAoBnB,UAApB;AACA,WAAKqC,SAAL,CAAe,YAAM;AACnB,QAAA,MAAI,CAACjB,YAAL,GAAoB,IAApB;AACD,OAFD;AAGD,KAjDM;AAkDP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA4B,IAAAA,MApEO,YAoEAP,GApEA,EAoEK;AACV,WAAKQ,aAAL,CAAmB;AACjBC,QAAAA,YAAY,EAAEpD,YADG;AAEjBqD,QAAAA,QAAQ,EAAE;AAAEC,UAAAA,GAAG,EAAEX,GAAG,CAACW;AAAX,SAFO;AAGjBC,QAAAA,aAAa,EAAE,SAHE;AAIjB/C,QAAAA,OAAO,EAAE,SAJQ;AAKjBgD,QAAAA,KAAK,EAAEb,GAAG,CAACa;AALM,OAAnB;AAOD,KA5EM;AA6EPC,IAAAA,gBA7EO,cA6EY;AAAA;;AACjB,WAAKnC,YAAL,GAAoB,KAApB;AACA,WAAKiB,SAAL,CAAe,YAAM;AACnB,QAAA,MAAI,CAAClB,YAAL,GAAoB,IAApB;;AACA,QAAA,MAAI,CAACS,OAAL;AACD,OAHD;AAID;AAnFM;AApDI,CArFf","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// Message\nimport Msg from '/imports/client/lib/message'\nimport Notify from '/imports/client/lib/notify'\n\n// Mixin\n// import dataTablesMixin from '/imports/client/mixins/data-tables'\n// import softRemoveMixin from '/imports/client/mixins/soft-remove'\n// import restoreMixin from '/imports/client/mixins/restore'\nimport removeMixin from '/imports/client/mixins/remove'\n\n// Table\nimport TableToolbar from '/imports/client/components/TableToolbar.vue'\nimport TableAction from '/imports/client/components/TableAction.vue'\n\nimport {\n  findBranches,\n  removeBranch,\n} from '../../api/branches/methods'\n\nimport branchNew from './BranchNew'\nimport branchEdit from './BranchEdit'\n\nexport default {\n  name: 'Branch',\n  components: { TableToolbar, TableAction, branchNew, branchEdit },\n  mixins: [removeMixin],\n  data() {\n    return {\n      loading: false,\n      tableData: [],\n      tableTitles: [\n        { label: 'ID', prop: '_id' },\n        { label: 'Name', prop: 'name' },\n        { label: 'Short Name', prop: 'shortName' },\n        { label: 'Address', prop: 'address' },\n        { label: 'Telephone', prop: 'telephone' },\n        { label: 'Email', prop: 'email' },\n      ],\n      tableProps: {\n        size: 'mini',\n        border: false,\n        stripe: false,\n        defaultSort: {\n          prop: '_id',\n          order: 'ascending',\n        },\n      },\n      tableFilters: [\n        {\n          prop: ['_id', 'name', 'shortName'],\n          value: '',\n        },\n      ],\n      // Modal\n      currentModal: null,\n      modalVisible: false,\n      updateDoc: null,\n    }\n  },\n  computed: {\n    userIsInRole() {\n      return this.$store.getters['userIsInRole'](['super'])\n    },\n  },\n  created() {\n    // Extend data tables props (Mixin)\n    // this.tableProps.defaultSort = {\n    //   prop: '_id',\n    //   order: 'ascending',\n    // }\n  },\n  mounted() {\n    this.getData()\n  },\n  methods: {\n    getData() {\n      this.loading = true\n      findBranches\n        .callPromise({})\n        .then(result => {\n          this.tableData = result\n          this.loading = false\n        })\n        .catch(error => {\n          this.loading = false\n          Notify.error({ message: error })\n        })\n    },\n    // Add new\n    addNew() {\n      this.currentModal = branchNew\n      this.$nextTick(() => {\n        this.modalVisible = true\n      })\n    },\n\n    // Toble Formatter\n    softRemoveClassName(removed) {\n      return removed ? 'soft-remove' : ''\n    },\n\n    // Table Action\n    actionsList(row) {\n      let actions = ['edit']\n      if (row.removed) {\n        // actions.push('restore')\n        // actions.push('remove')\n      } else {\n        // actions.push('softRemove')\n        actions.push('remove')\n      }\n\n      return actions\n    },\n    tableActionClick(command) {\n      this[command.action](command.row)\n    },\n    edit(row) {\n      this.updateDoc = row\n      this.currentModal = branchEdit\n      this.$nextTick(() => {\n        this.modalVisible = true\n      })\n    },\n    // softRemove(row) {\n    //   this.$_softRemoveMixin({\n    //     meteorMethod: softRemoveBranch,\n    //     selector: { _id: row._id },\n    //     successMethod: 'getData',\n    //     loading: 'loading',\n    //     title: row.title,\n    //   })\n    // },\n    // restore(row) {\n    //   this.$_restoreMixin({\n    //     meteorMethod: restoreBranch,\n    //     selector: { _id: row._id },\n    //     successMethod: 'getData',\n    //     loading: 'loading',\n    //     title: row.title,\n    //   })\n    // },\n    remove(row) {\n      this.$_removeMixin({\n        meteorMethod: removeBranch,\n        selector: { _id: row._id },\n        successMethod: 'getData',\n        loading: 'loading',\n        title: row.title,\n      })\n    },\n    handleModalClose() {\n      this.modalVisible = false\n      this.$nextTick(() => {\n        this.currentModal = null\n        this.getData()\n      })\n    },\n    // // Add new\n    // addNew() {\n    //   this.$router.push({ name: 'app.branchNew' })\n    // },\n    // // Action\n    // handleTableAction(command) {\n    //   this[command.action](command.row)\n    // },\n    // edit(row) {\n    //   this.$router.push({\n    //     name: 'app.branchEdit',\n    //     params: { _id: row._id },\n    //   })\n    // },\n    // remove(row) {\n    //   this.$_removeMixin({\n    //     meteorMethod: removeBranch,\n    //     selector: { _id: row._id },\n    //     successMethod: 'getData',\n    //     loading: 'loading',\n    //     title: row._id,\n    //   })\n    // },\n  },\n}\n"]},"sourceType":"script","hash":"8b77c9cb41db8abfcfc3e5676b2a6d8e23f80f0a"}
