{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"base$0$3","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$4","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$5","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$6","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$7","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$9","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$11","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$12","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$13","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$14","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$15","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$16","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$17","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$18","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$19","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$20","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$21","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$22","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$23","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/rabbit/Desktop/app/bad-system/node_modules/element-ui/packages/slider/src/button.vue","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","dynamicImport",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"/Users/rabbit/Desktop/app/bad-system/node_modules/element-ui/packages/slider/src/button.vue","filename":"/Users/rabbit/Desktop/app/bad-system/node_modules/element-ui/packages/slider/src/button.vue","passPerPreset":false,"envName":"development","cwd":"/Users/rabbit/Desktop/app/bad-system","root":"/Users/rabbit/Desktop/app/bad-system","generatorOpts":{"filename":"/Users/rabbit/Desktop/app/bad-system/node_modules/element-ui/packages/slider/src/button.vue","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"/Users/rabbit/Desktop/app/bad-system/node_modules/element-ui/packages/slider/src/button.vue"}},"code":"var ElTooltip;\nmodule.link(\"element-ui/packages/tooltip\", {\n  \"default\": function (v) {\n    ElTooltip = v;\n  }\n}, 0);\nmodule.exportDefault({\n  name: 'ElSliderButton',\n  components: {\n    ElTooltip: ElTooltip\n  },\n  props: {\n    value: {\n      type: Number,\n      \"default\": 0\n    },\n    vertical: {\n      type: Boolean,\n      \"default\": false\n    },\n    tooltipClass: String\n  },\n  data: function () {\n    return {\n      hovering: false,\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      currentX: 0,\n      startY: 0,\n      currentY: 0,\n      startPosition: 0,\n      newPosition: null,\n      oldValue: this.value\n    };\n  },\n  computed: {\n    disabled: function () {\n      return this.$parent.sliderDisabled;\n    },\n    max: function () {\n      return this.$parent.max;\n    },\n    min: function () {\n      return this.$parent.min;\n    },\n    step: function () {\n      return this.$parent.step;\n    },\n    showTooltip: function () {\n      return this.$parent.showTooltip;\n    },\n    precision: function () {\n      return this.$parent.precision;\n    },\n    currentPosition: function () {\n      return (this.value - this.min) / (this.max - this.min) * 100 + \"%\";\n    },\n    enableFormat: function () {\n      return this.$parent.formatTooltip instanceof Function;\n    },\n    formatValue: function () {\n      return this.enableFormat && this.$parent.formatTooltip(this.value) || this.value;\n    },\n    wrapperStyle: function () {\n      return this.vertical ? {\n        bottom: this.currentPosition\n      } : {\n        left: this.currentPosition\n      };\n    }\n  },\n  watch: {\n    dragging: function (val) {\n      this.$parent.dragging = val;\n    }\n  },\n  methods: {\n    displayTooltip: function () {\n      this.$refs.tooltip && (this.$refs.tooltip.showPopper = true);\n    },\n    hideTooltip: function () {\n      this.$refs.tooltip && (this.$refs.tooltip.showPopper = false);\n    },\n    handleMouseEnter: function () {\n      this.hovering = true;\n      this.displayTooltip();\n    },\n    handleMouseLeave: function () {\n      this.hovering = false;\n      this.hideTooltip();\n    },\n    onButtonDown: function (event) {\n      if (this.disabled) return;\n      event.preventDefault();\n      this.onDragStart(event);\n      window.addEventListener('mousemove', this.onDragging);\n      window.addEventListener('touchmove', this.onDragging);\n      window.addEventListener('mouseup', this.onDragEnd);\n      window.addEventListener('touchend', this.onDragEnd);\n      window.addEventListener('contextmenu', this.onDragEnd);\n    },\n    onLeftKeyDown: function () {\n      if (this.disabled) return;\n      this.newPosition = parseFloat(this.currentPosition) - this.step / (this.max - this.min) * 100;\n      this.setPosition(this.newPosition);\n    },\n    onRightKeyDown: function () {\n      if (this.disabled) return;\n      this.newPosition = parseFloat(this.currentPosition) + this.step / (this.max - this.min) * 100;\n      this.setPosition(this.newPosition);\n    },\n    onDragStart: function (event) {\n      this.dragging = true;\n      this.isClick = true;\n\n      if (event.type === 'touchstart') {\n        event.clientY = event.touches[0].clientY;\n        event.clientX = event.touches[0].clientX;\n      }\n\n      if (this.vertical) {\n        this.startY = event.clientY;\n      } else {\n        this.startX = event.clientX;\n      }\n\n      this.startPosition = parseFloat(this.currentPosition);\n      this.newPosition = this.startPosition;\n    },\n    onDragging: function (event) {\n      if (this.dragging) {\n        this.isClick = false;\n        this.displayTooltip();\n        this.$parent.resetSize();\n        var diff = 0;\n\n        if (event.type === 'touchmove') {\n          event.clientY = event.touches[0].clientY;\n          event.clientX = event.touches[0].clientX;\n        }\n\n        if (this.vertical) {\n          this.currentY = event.clientY;\n          diff = (this.startY - this.currentY) / this.$parent.sliderSize * 100;\n        } else {\n          this.currentX = event.clientX;\n          diff = (this.currentX - this.startX) / this.$parent.sliderSize * 100;\n        }\n\n        this.newPosition = this.startPosition + diff;\n        this.setPosition(this.newPosition);\n      }\n    },\n    onDragEnd: function () {\n      var _this = this;\n\n      if (this.dragging) {\n        /*\n         * 防止在 mouseup 后立即触发 click，导致滑块有几率产生一小段位移\n         * 不使用 preventDefault 是因为 mouseup 和 click 没有注册在同一个 DOM 上\n         */\n        setTimeout(function () {\n          _this.dragging = false;\n\n          _this.hideTooltip();\n\n          if (!_this.isClick) {\n            _this.setPosition(_this.newPosition);\n\n            _this.$parent.emitChange();\n          }\n        }, 0);\n        window.removeEventListener('mousemove', this.onDragging);\n        window.removeEventListener('touchmove', this.onDragging);\n        window.removeEventListener('mouseup', this.onDragEnd);\n        window.removeEventListener('touchend', this.onDragEnd);\n        window.removeEventListener('contextmenu', this.onDragEnd);\n      }\n    },\n    setPosition: function (newPosition) {\n      var _this2 = this;\n\n      if (newPosition === null || isNaN(newPosition)) return;\n\n      if (newPosition < 0) {\n        newPosition = 0;\n      } else if (newPosition > 100) {\n        newPosition = 100;\n      }\n\n      var lengthPerStep = 100 / ((this.max - this.min) / this.step);\n      var steps = Math.round(newPosition / lengthPerStep);\n      var value = steps * lengthPerStep * (this.max - this.min) * 0.01 + this.min;\n      value = parseFloat(value.toFixed(this.precision));\n      this.$emit('input', value);\n      this.$nextTick(function () {\n        _this2.$refs.tooltip && _this2.$refs.tooltip.updatePopper();\n      });\n\n      if (!this.dragging && this.value !== this.oldValue) {\n        this.oldValue = this.value;\n      }\n    }\n  }\n});","map":{"version":3,"sources":["/Users/rabbit/Desktop/app/bad-system/node_modules/element-ui/packages/slider/src/button.vue"],"names":["ElTooltip","module","link","v","exportDefault","name","components","props","value","type","Number","vertical","Boolean","tooltipClass","String","data","hovering","dragging","isClick","startX","currentX","startY","currentY","startPosition","newPosition","oldValue","computed","disabled","$parent","sliderDisabled","max","min","step","showTooltip","precision","currentPosition","enableFormat","formatTooltip","Function","formatValue","wrapperStyle","bottom","left","watch","val","methods","displayTooltip","$refs","tooltip","showPopper","hideTooltip","handleMouseEnter","handleMouseLeave","onButtonDown","event","preventDefault","onDragStart","window","addEventListener","onDragging","onDragEnd","onLeftKeyDown","parseFloat","setPosition","onRightKeyDown","clientY","touches","clientX","resetSize","diff","sliderSize","setTimeout","emitChange","removeEventListener","isNaN","lengthPerStep","steps","Math","round","toFixed","$emit","$nextTick","updatePopper"],"mappings":"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","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  import ElTooltip from 'element-ui/packages/tooltip';\n\n  export default {\n    name: 'ElSliderButton',\n\n    components: {\n      ElTooltip\n    },\n\n    props: {\n      value: {\n        type: Number,\n        default: 0\n      },\n      vertical: {\n        type: Boolean,\n        default: false\n      },\n      tooltipClass: String\n    },\n\n    data() {\n      return {\n        hovering: false,\n        dragging: false,\n        isClick: false,\n        startX: 0,\n        currentX: 0,\n        startY: 0,\n        currentY: 0,\n        startPosition: 0,\n        newPosition: null,\n        oldValue: this.value\n      };\n    },\n\n    computed: {\n      disabled() {\n        return this.$parent.sliderDisabled;\n      },\n\n      max() {\n        return this.$parent.max;\n      },\n\n      min() {\n        return this.$parent.min;\n      },\n\n      step() {\n        return this.$parent.step;\n      },\n\n      showTooltip() {\n        return this.$parent.showTooltip;\n      },\n\n      precision() {\n        return this.$parent.precision;\n      },\n\n      currentPosition() {\n        return `${ (this.value - this.min) / (this.max - this.min) * 100 }%`;\n      },\n\n      enableFormat() {\n        return this.$parent.formatTooltip instanceof Function;\n      },\n\n      formatValue() {\n        return this.enableFormat && this.$parent.formatTooltip(this.value) || this.value;\n      },\n\n      wrapperStyle() {\n        return this.vertical ? { bottom: this.currentPosition } : { left: this.currentPosition };\n      }\n    },\n\n    watch: {\n      dragging(val) {\n        this.$parent.dragging = val;\n      }\n    },\n\n    methods: {\n      displayTooltip() {\n        this.$refs.tooltip && (this.$refs.tooltip.showPopper = true);\n      },\n\n      hideTooltip() {\n        this.$refs.tooltip && (this.$refs.tooltip.showPopper = false);\n      },\n\n      handleMouseEnter() {\n        this.hovering = true;\n        this.displayTooltip();\n      },\n\n      handleMouseLeave() {\n        this.hovering = false;\n        this.hideTooltip();\n      },\n\n      onButtonDown(event) {\n        if (this.disabled) return;\n        event.preventDefault();\n        this.onDragStart(event);\n        window.addEventListener('mousemove', this.onDragging);\n        window.addEventListener('touchmove', this.onDragging);\n        window.addEventListener('mouseup', this.onDragEnd);\n        window.addEventListener('touchend', this.onDragEnd);\n        window.addEventListener('contextmenu', this.onDragEnd);\n      },\n      onLeftKeyDown() {\n        if (this.disabled) return;\n        this.newPosition = parseFloat(this.currentPosition) - this.step / (this.max - this.min) * 100;\n        this.setPosition(this.newPosition);\n      },\n      onRightKeyDown() {\n        if (this.disabled) return;\n        this.newPosition = parseFloat(this.currentPosition) + this.step / (this.max - this.min) * 100;\n        this.setPosition(this.newPosition);\n      },\n      onDragStart(event) {\n        this.dragging = true;\n        this.isClick = true;\n        if (event.type === 'touchstart') {\n          event.clientY = event.touches[0].clientY;\n          event.clientX = event.touches[0].clientX;\n        }\n        if (this.vertical) {\n          this.startY = event.clientY;\n        } else {\n          this.startX = event.clientX;\n        }\n        this.startPosition = parseFloat(this.currentPosition);\n        this.newPosition = this.startPosition;\n      },\n\n      onDragging(event) {\n        if (this.dragging) {\n          this.isClick = false;\n          this.displayTooltip();\n          this.$parent.resetSize();\n          let diff = 0;\n          if (event.type === 'touchmove') {\n            event.clientY = event.touches[0].clientY;\n            event.clientX = event.touches[0].clientX;\n          }\n          if (this.vertical) {\n            this.currentY = event.clientY;\n            diff = (this.startY - this.currentY) / this.$parent.sliderSize * 100;\n          } else {\n            this.currentX = event.clientX;\n            diff = (this.currentX - this.startX) / this.$parent.sliderSize * 100;\n          }\n          this.newPosition = this.startPosition + diff;\n          this.setPosition(this.newPosition);\n        }\n      },\n\n      onDragEnd() {\n        if (this.dragging) {\n          /*\n           * 防止在 mouseup 后立即触发 click，导致滑块有几率产生一小段位移\n           * 不使用 preventDefault 是因为 mouseup 和 click 没有注册在同一个 DOM 上\n           */\n          setTimeout(() => {\n            this.dragging = false;\n            this.hideTooltip();\n            if (!this.isClick) {\n              this.setPosition(this.newPosition);\n              this.$parent.emitChange();\n            }\n          }, 0);\n          window.removeEventListener('mousemove', this.onDragging);\n          window.removeEventListener('touchmove', this.onDragging);\n          window.removeEventListener('mouseup', this.onDragEnd);\n          window.removeEventListener('touchend', this.onDragEnd);\n          window.removeEventListener('contextmenu', this.onDragEnd);\n        }\n      },\n\n      setPosition(newPosition) {\n        if (newPosition === null || isNaN(newPosition)) return;\n        if (newPosition < 0) {\n          newPosition = 0;\n        } else if (newPosition > 100) {\n          newPosition = 100;\n        }\n        const lengthPerStep = 100 / ((this.max - this.min) / this.step);\n        const steps = Math.round(newPosition / lengthPerStep);\n        let value = steps * lengthPerStep * (this.max - this.min) * 0.01 + this.min;\n        value = parseFloat(value.toFixed(this.precision));\n        this.$emit('input', value);\n        this.$nextTick(() => {\n          this.$refs.tooltip && this.$refs.tooltip.updatePopper();\n        });\n        if (!this.dragging && this.value !== this.oldValue) {\n          this.oldValue = this.value;\n        }\n      }\n    }\n  };\n"]},"sourceType":"script","hash":"3c5961bcf3fe22a9216c67d334796b011dcabf43"}
